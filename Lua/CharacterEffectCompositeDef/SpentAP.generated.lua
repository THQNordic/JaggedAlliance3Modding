-- ========== GENERATED BY CharacterEffectCompositeDef Editor DO NOT EDIT MANUALLY! ==========

UndefineClass('SpentAP')
DefineClass.SpentAP = {
	__parents = { "CharacterEffect" },
	__generated_by_class = "CharacterEffectCompositeDef",


	object_class = "CharacterEffect",
	unit_reactions = {
		PlaceObj('UnitReaction', {
			Event = "OnBeginTurn",
			Handler = function (self, target)
				if self.stacks > 0 then
					if not target:HasStatusEffect("FreeMoveOnCombatStart") then
						target:RemoveStatusEffect("FreeMove")
					end
					target:RemoveStatusEffect("Focused")
					target:ConsumeAP(self.stacks)
					target.performed_action_this_turn = true
					target:RemoveStatusEffect(self.class, "all")
				end
			end,
		}),
	},
	Conditions = {
		PlaceObj('CheckExpression', {
			Expression = function (self, obj) return IsKindOf(obj, "Unit") end,
		}),
	},
	OnRemoved = function (self, obj)  end,
	max_stacks = 999000,
	RemoveOnEndCombat = true,
	RemoveOnSatViewTravel = true,
	RemoveOnCampaignTimeAdvance = true,
}

