-- ========== GENERATED BY CharacterEffectCompositeDef Editor DO NOT EDIT MANUALLY! ==========

UndefineClass('LeadFromTheFront')
DefineClass.LeadFromTheFront = {
	__parents = { "Perk" },
	__generated_by_class = "CharacterEffectCompositeDef",


	object_class = "Perk",
	unit_reactions = {
		PlaceObj('UnitReaction', {
			Event = "OnUnitAttack",
			Handler = function (self, target, attacker, action, attack_target, results, attack_args)
				if attacker == target and IsKindOf(attack_target, "Unit") and results.total_damage and results.total_damage >= self:ResolveValue("damageTreshold") then
					if attacker.team:IsPlayerControlled() and not self:ResolveValue("applied") then
						attacker.team:ChangeMorale(self:ResolveValue("moraleBonus"), self.DisplayName)
						self:SetParameter("applied", true)
					end
				end
			end,
		}),
		PlaceObj('UnitReaction', {
			Event = "OnBeginTurn",
			Handler = function (self, target)
				self:SetParameter("applied", false)
			end,
		}),
	},
	DisplayName = T(589057792592, --[[CharacterEffectCompositeDef LeadFromTheFront DisplayName]] "Inspiring Strike"),
	Description = T(142399887488, --[[CharacterEffectCompositeDef LeadFromTheFront Description]] "Increase <GameTerm('Morale')> when you deal more than <em><damageTreshold> Damage</em> with a <em>single attack</em>.\n\nOnce per turn."),
	Icon = "UI/Icons/Perks/SquadLeadership",
	Tier = "Silver",
	Stat = "Wisdom",
	StatValue = 80,
}

