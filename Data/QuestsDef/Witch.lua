-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	DevNotes = "Completed when GoodWitch or EvilWitch is obtained.\n\nFailed if the Witch is killed before that.\nWitchDead is scripted in FarmlandSideQuests.",
	DisplayName = T(240852996010, --[[QuestsDef Witch DisplayName]] "Wassergrab"),
	KillTCEsConditions = {
		PlaceObj('QuestIsVariableBool', {
			Condition = "or",
			QuestId = "Witch",
			Vars = set( "Completed" ),
			__eval = function ()
				local quest = gv_Quests['Witch'] or QuestGetState('Witch')
				return quest.Completed
			end,
		}),
	},
	NoteDefs = {
		LastNoteIdx = 11,
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Witch",
					Sector = "J18",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "Failed", "Given", "WitchDead", "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.Failed or quest.Given or quest.WitchDead or quest.WitchExposed
					end,
				}),
			},
			Idx = 4,
			Scouting = true,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set({
	Given = false,
}),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return not quest.Given
					end,
				}),
			},
			Text = T(821759647337, --[[QuestsDef Witch Text]] "There is a wicked <em>Witch</em> at the <em><SectorName('J18')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Witch",
					Sector = "J18",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "Given", "WitchMet" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Given and quest.WitchMet
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "Failed", "WitchDead", "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.Failed or quest.WitchDead or quest.WitchExposed
					end,
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Given
					end,
				}),
			},
			Text = T(799833578649, --[[QuestsDef Witch Text]] "There is a <em>Witch</em> at the <em><SectorName('J18')></em> who seems to be enchanting and sexually abusing the men of <em>Wassergrab</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Witch",
					Sector = "J18",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "SetpiecePlayed", "WitchMet" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.SetpiecePlayed and quest.WitchMet
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "Failed", "Given", "WitchDead", "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.Failed or quest.Given or quest.WitchDead or quest.WitchExposed
					end,
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set({
	Given = false,
	SetpiecePlayed = true,
}),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return not quest.Given and quest.SetpiecePlayed
					end,
				}),
			},
			Text = T(232605162339, --[[QuestsDef Witch Text]] "There is a <em>Witch</em> at the <em><SectorName('J18')></em> who seems to be enchanting the men of <em>Wassergrab</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.WitchExposed
					end,
				}),
			},
			Idx = 2,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchCauldron" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchCauldron
					end,
				}),
			},
			Text = T(528409536249, --[[QuestsDef Witch Text]] "Clue: The <em>Witch's cauldron</em> contains a herbal concoction that can cause short term memory loss"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.WitchExposed
					end,
				}),
			},
			Idx = 3,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchHole" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchHole
					end,
				}),
			},
			Text = T(687426362832, --[[QuestsDef Witch Text]] "Clue: There is a deep hole under the <SectorName('J18')> that looks a lot like a <em>mining shaft</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Witch",
					Sector = "J18",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.Failed
					end,
				}),
			},
			Idx = 5,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchExposed
					end,
				}),
			},
			Text = T(412221034512, --[[QuestsDef Witch Text]] "<em>Lami</em> from the <em><SectorName('J18')></em> is drugging the men of <em>Wassergrab</em> and forcing them to dig diamonds for her"),
		}),
		PlaceObj('QuestNote', {
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed", "WitchDead", "WitchDefeated" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed or quest.WitchDead or quest.WitchDefeated
					end,
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchCombat" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchCombat
					end,
				}),
			},
			Text = T(366409520756, --[[QuestsDef Witch Text]] "The <em>Witch</em> has summoned her fearsome crocodile guardians"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Witch",
					Sector = "J18",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "EvilWitch", "GoodWitch", "WitchDead", "WitchExposed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.EvilWitch or quest.GoodWitch or quest.WitchDead or quest.WitchExposed
					end,
				}),
			},
			Idx = 9,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set({
	WitchDead = false,
	WitchDefeated = true,
}),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return not quest.WitchDead and quest.WitchDefeated
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"J18",
					},
				}),
			},
			Text = T(237794120184, --[[QuestsDef Witch Text]] "The crocodile guardians of the <em><SectorName('J18')></em> are dead and now the <em>Witch</em> can be interrogated"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "GoodWitch", "WitchDead" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.GoodWitch or quest.WitchDead
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed
					end,
				}),
			},
			Idx = 6,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "GoodWitch", "WitchDead" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.GoodWitch or quest.WitchDead
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.Completed
					end,
				}),
			},
			Text = T(358322362027, --[[QuestsDef Witch Text]] "<em>Outcome:</em> Lami the <em>Witch</em> will stop exploiting the workers of <em>Wassergrab</em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "EvilWitch" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.EvilWitch
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "WitchDead" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchDead
					end,
				}),
			},
			Idx = 7,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "EvilWitch" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.EvilWitch
					end,
				}),
			},
			Text = T(983169340787, --[[QuestsDef Witch Text]] "<em>Outcome:</em> Lami the <em>Witch</em> will continue to exploit the workers from <em>Wassergrab</em> "),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchDead" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchDead
					end,
				}),
			},
			Idx = 10,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchDead" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchDead
					end,
				}),
			},
			Text = T(176638372870, --[[QuestsDef Witch Text]] "<em>Outcome:</em> Lami the <em>Witch</em> is dead"),
		}),
	},
	QuestGroup = "Farmlands",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set({
	Completed = false,
	WitchDead = true,
}),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return not quest.Completed and quest.WitchDead
					end,
				}),
			},
			Effects = {
				PlaceObj('MusicSetSectorPlaylist', {
					MusicCombat = "Battle_Normal",
					MusicConflict = "Farmland_Conflict",
					MusicExploration = "Sector_Failed",
					SectorID = "J18",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "Witch",
				}),
			},
			Once = true,
			ParamId = "TCE_QuestFail",
			QuestId = "Witch",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Witch",
					Vars = set( "EvilWitch", "GoodWitch" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.EvilWitch or quest.GoodWitch
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Witch",
							Vars = set( "EvilWitch" ),
							__eval = function ()
								local quest = gv_Quests['Witch'] or QuestGetState('Witch')
								return quest.EvilWitch
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "Crocs",
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "Witch",
				}),
				PlaceObj('MusicSetSectorPlaylist', {
					MusicCombat = "Battle_Normal",
					MusicConflict = "Farmland_Conflict",
					MusicExploration = "Sector_Complete",
					SectorID = "J18",
				}),
			},
			Once = true,
			ParamId = "TCE_QuestCompletion",
			QuestId = "Witch",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"J18",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set( "WitchCombat" ),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return quest.WitchCombat
					end,
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "Crocs",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "Crocs",
				}),
			},
			Once = true,
			ParamId = "TCE_CrocsCombat",
			QuestId = "Witch",
			requiredSectors = {
				"J18",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"J18",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Witch",
					Vars = set({
	WitchDefeated = false,
}),
					__eval = function ()
						local quest = gv_Quests['Witch'] or QuestGetState('Witch')
						return not quest.WitchDefeated
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('OR', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Witch",
									Vars = set( "WitchCombat" ),
									__eval = function ()
										local quest = gv_Quests['Witch'] or QuestGetState('Witch')
										return quest.WitchCombat
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									Condition = "or",
									QuestId = "_GroupsAttacked",
									Vars = set( "Crocs", "Witch" ),
									__eval = function ()
										local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
										return quest.Crocs or quest.Witch
									end,
								}),
							},
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "enemy2",
							TargetUnit = "Crocs",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('CheckGameState', {
									GameState = "Night",
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Witch",
									Vars = set({
	EvilWitch = false,
	GoodWitch = false,
}),
									__eval = function ()
										local quest = gv_Quests['Witch'] or QuestGetState('Witch')
										return not quest.EvilWitch and not quest.GoodWitch
									end,
								}),
							},
							'Effects', {
								PlaceObj('GroupSetSide', {
									Side = "enemy2",
									TargetUnit = "Crocs",
								}),
							},
							'EffectsElse', {
								PlaceObj('GroupSetSide', {
									Side = "neutral",
									TargetUnit = "Crocs",
								}),
							},
						}),
					},
				}),
			},
			ParamId = "TCE_CrocsAggressive",
			QuestId = "Witch",
			requiredSectors = {
				"J18",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "Crocs",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "WitchDefeated",
					QuestId = "Witch",
				}),
			},
			Once = true,
			ParamId = "TCE_CrocsDefeated",
			QuestId = "Witch",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "SetpiecePlayed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchHole",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchMet",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchCauldron",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchExposed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchCombat",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchDefeated",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WitchDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "GoodWitch",
		}),
		PlaceObj('QuestVarBool', {
			Name = "EvilWitch",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WassergrabChurchDiamondsDiscovered",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_QuestFail",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_QuestCompletion",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_CrocsAggressive",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_CrocsCombat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_CrocsDefeated",
		}),
	},
	group = "Farmland",
	id = "Witch",
})

