-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Hidden = true,
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	QuestGroup = "Wetlands",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"I1",
					},
				}),
			},
			Effects = {
				PlaceObj('ExecuteCode', {
					FuncCode = "SetupCrocodilePatrolSquad()",
				}),
				PlaceObj('ShowGuardpostObjective', {
					GuardpostObjective = "CirclingPatrol",
				}),
			},
			Once = true,
			ParamId = "TCE_StartCirclingPatrol",
			QuestId = "ReduceCrocodileCampStrength",
			requiredSectors = {
				"I1",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsOnMap', {
					TargetUnit = "EscapingInfected",
				}),
			},
			Effects = {
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "East",
					Running = true,
					TargetUnit = "EscapingInfected",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GuardpostObjectiveDone', {
							GuardpostObjective = "InfectedInvasion",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "InfectedInvasion",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_ReleasedInfectedLeaveMap",
			QuestId = "ReduceCrocodileCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "EscapingInfected",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "InfectedKilled",
					QuestId = "ReduceCrocodileCampStrength",
				}),
			},
			Once = true,
			ParamId = "TCE_InfectedKilled",
			QuestId = "ReduceCrocodileCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "04_Betrayal",
					Vars = set( "TriggerWorldFlip" ),
					__eval = function ()
						local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
						return quest.TriggerWorldFlip
					end,
				}),
				PlaceObj('CheckExpression', {
					Expression = function (self, obj)
						local patrolSquadId = GetQuestVar("ReduceCrocodileCampStrength", "PatrolSquadId")
						return not not gv_Squads[patrolSquadId]
					end,
				}),
			},
			Effects = {
				PlaceObj('ExecuteCode', {
					FuncCode = 'local patrolSquadId = GetQuestVar("ReduceCrocodileCampStrength", "PatrolSquadId")\nif gv_Squads[patrolSquadId] then\n	RemoveSquad(gv_Squads[patrolSquadId])\nend',
				}),
			},
			Once = true,
			ParamId = "TCE_RemoveCrocPatrol_WorldFlip",
			QuestId = "ReduceCrocodileCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"H14",
					},
				}),
				PlaceObj('CheckExpression', {
					Expression = function (self, obj)
						local patrolSquadId = GetQuestVar("ReduceCrocodileCampStrength", "PatrolSquadId")
						return not not gv_Squads[patrolSquadId]
					end,
				}),
				PlaceObj('CombatIsActive', {}),
			},
			Effects = {
				PlaceObj('ExecuteCode', {
					FuncCode = 'local patrolSquadId = GetQuestVar("ReduceCrocodileCampStrength", "PatrolSquadId")\nif gv_Squads[patrolSquadId] then\n	RemoveSquad(gv_Squads[patrolSquadId])\nend',
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "PatrolReinforcementsEnroute",
					QuestId = "ReduceCrocodileCampStrength",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GuardpostObjectiveDone', {
							GuardpostObjective = "CirclingPatrol",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('FailGuardpostObjective', {
							GuardpostObjective = "CirclingPatrol",
						}),
					},
				}),
				PlaceObj('SetTimer', {
					Label = T(777127120944, --[[QuestsDef ReduceCrocodileCampStrength Label]] "Patrol Squad en route"),
					Name = "PatrolReinforcements",
					Time = 30000,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "PatrolArrivedToHelp",
					QuestId = "ReduceCrocodileCampStrength",
				}),
			},
			Once = true,
			ParamId = "TCE_StartedCombatInCampWhilePatrolIsAlive",
			QuestId = "ReduceCrocodileCampStrength",
			requiredSectors = {
				"H14",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"H14",
					},
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceCrocodileCampStrength",
					Vars = set({
	PatrolArrivedToHelp = false,
	PatrolReinforcementsEnroute = true,
}),
					__eval = function ()
						local quest = gv_Quests['ReduceCrocodileCampStrength'] or QuestGetState('ReduceCrocodileCampStrength')
						return not quest.PatrolArrivedToHelp and quest.PatrolReinforcementsEnroute
					end,
				}),
			},
			Effects = {
				PlaceObj('SectorEnterConflict', {
					disable_travel = true,
					lock_conflict = true,
					sector_id = "H14",
				}),
			},
			Once = true,
			ParamId = "TCE_ReinforcementsConflict",
			QuestId = "ReduceCrocodileCampStrength",
			requiredSectors = {
				"H14",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"H14",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceCrocodileCampStrength",
					Vars = set( "PatrolArrivedToHelp" ),
					__eval = function ()
						local quest = gv_Quests['ReduceCrocodileCampStrength'] or QuestGetState('ReduceCrocodileCampStrength')
						return quest.PatrolArrivedToHelp
					end,
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
				PlaceObj('UnitIsOnMap', {
					TargetUnit = "PatrolReinforcements",
				}),
			},
			Effects = {
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "H14",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "PatrolReinforcements",
				}),
			},
			Once = true,
			ParamId = "TCE_ReinforcementsArrived",
			QuestId = "ReduceCrocodileCampStrength",
			requiredSectors = {
				"H14",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"CampDuCrocodile_ReleaseInfected_01_Intro",
					},
				}),
				PlaceObj('SectorCheckOwner', {
					Negate = true,
					sector_id = "H14",
				}),
			},
			Effects = {
				PlaceObj('ShowGuardpostObjective', {
					GuardpostObjective = "InfectedInvasion",
				}),
			},
			Once = true,
			ParamId = "TCE_ReleasableInfectedDiscovered",
			QuestId = "ReduceCrocodileCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"H13",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "_GroupsAttacked",
					Vars = set( "EscapingInfected" ),
					__eval = function ()
						local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
						return quest.EscapingInfected
					end,
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "EscapingInfected",
				}),
			},
			Once = true,
			ParamId = "TCE_InfectedAttacked",
			QuestId = "ReduceCrocodileCampStrength",
			requiredSectors = {
				"H13",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceCrocodileCampStrength",
					Vars = set({
	InfectedKilled = false,
	InfectedReleased = true,
}),
					__eval = function ()
						local quest = gv_Quests['ReduceCrocodileCampStrength'] or QuestGetState('ReduceCrocodileCampStrength')
						return not quest.InfectedKilled and quest.InfectedReleased
					end,
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "InfectedInvasion",
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"H14",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupAlert', {
					TargetUnit = "EscapingInfected",
				}),
				PlaceObj('GroupSetAITargetModifier', {
					Group = "EscapingInfected",
					Modifier = 120,
					Target = "SwampLegion",
				}),
			},
			Once = true,
			ParamId = "TCE_AlertInfected",
			QuestId = "ReduceCrocodileCampStrength",
			requiredSectors = {
				"H14",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "VoodooCult",
					Vars = set( "Completed", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['VoodooCult'] or QuestGetState('VoodooCult')
						return quest.Completed or quest.Failed
					end,
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "ChaletVoodoo",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('CompleteGuardpostObjective', {
					GuardpostObjective = "ChaletVoodoo",
				}),
			},
			Once = true,
			ParamId = "TCE_VoodooCult",
			QuestId = "ReduceCrocodileCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "CirclingPatrol",
					Negate = true,
				}),
				PlaceObj('SquadDefeated', {
					custom_squad_id = "CampCrocodile_CirclingPatrol",
				}),
			},
			Effects = {
				PlaceObj('CompleteGuardpostObjective', {
					GuardpostObjective = "CirclingPatrol",
				}),
			},
			ParamId = "TCE_PatrolDefeated",
			QuestId = "ReduceCrocodileCampStrength",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_StartCirclingPatrol",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ReleasableInfectedDiscovered",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ReleasedInfectedLeaveMap",
		}),
		PlaceObj('QuestVarBool', {
			Name = "InfectedReleased",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PatrolReinforcementsEnroute",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RemoveCrocPatrol_WorldFlip",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_StartedCombatInCampWhilePatrolIsAlive",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ReinforcementsConflict",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ReinforcementsArrived",
		}),
		PlaceObj('QuestVarNum', {
			Name = "PatrolSquadId",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PatrolArrivedToHelp",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BorassusPlanted",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_InfectedKilled",
		}),
		PlaceObj('QuestVarBool', {
			Name = "InfectedKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_InfectedAttacked",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_AlertInfected",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_VoodooCult",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PatrolDefeated",
		}),
	},
	group = "Outposts",
	id = "ReduceCrocodileCampStrength",
})

