-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Boyan",
	Chapter = "Act1",
	DevNotes = "Big part of the logic what happens on first entering pantagurel downtown is in the sector SEs\n\nToDo:\n\n- What happens when allied and attacked by legion. Losing the sectors\n- Mine is actually underground and needs tweaking",
	Hidden = true,
	QuestGroup = "Pantagruel",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D8",
					},
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set({
	MaquieEnemies = false,
}),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return not quest.MaquieEnemies
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "_GroupsAttacked",
							Vars = set( "MaquisRebels" ),
							__eval = function ()
								local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
								return quest.MaquisRebels
							end,
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "MaquisRebels",
							QuestId = "_GroupsAttacked",
							Set = false,
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set({
	MaquieAllies = true,
	MaquieEnemies = false,
}),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return quest.MaquieAllies and not quest.MaquieEnemies
							end,
						}),
					},
					'Effects', {
						PlaceObj('SectorSetSide', {
							disable_sticky = true,
							sector_id = "D8",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "PantagruelRebels",
									Vars = set({
	MaquieEnemies = false,
}),
									__eval = function ()
										local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
										return not quest.MaquieEnemies
									end,
								}),
							},
							'Effects', {
								PlaceObj('SectorSetSide', {
									disable_sticky = true,
									sector_id = "D8",
									side = "neutral",
								}),
							},
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "DowntownInitialFightDone",
					QuestId = "PantagruelRebels",
				}),
				PlaceObj('GroupSetRoutine', {
					Routine = "Ambient",
					RoutineArea = "AL_Chimurenga",
					TargetUnit = "Chimurenga",
				}),
				PlaceObj('GroupSetRoutine', {
					Routine = "Ambient",
					RoutineArea = "AL_Rebels",
					TargetUnit = "AL_Rebels",
				}),
				PlaceObj('GroupSetRoutine', {
					Routine = "Ambient",
					RoutineArea = "Bar_Routine",
					TargetUnit = "SmallBarMaquis",
				}),
			},
			Once = true,
			ParamId = "TCE_Downtown_FightDone",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"D8",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7",
					},
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "FosseNoireFightDone",
					QuestId = "PantagruelRebels",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set({
	MaquieEnemies = false,
}),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return not quest.MaquieEnemies
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "_GroupsAttacked",
							Vars = set( "MaquisRebels" ),
							__eval = function ()
								local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
								return quest.MaquisRebels
							end,
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "MaquisRebels",
							QuestId = "_GroupsAttacked",
							Set = false,
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set({
	MaquieAllies = true,
	MaquieEnemies = false,
}),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return quest.MaquieAllies and not quest.MaquieEnemies
							end,
						}),
					},
					'Effects', {
						PlaceObj('SectorSetSide', {
							disable_sticky = true,
							sector_id = "C7",
						}),
						PlaceObj('SectorSetSide', {
							disable_sticky = true,
							sector_id = "C7_Underground",
						}),
						PlaceObj('SectorSetForceConflict', {
							sector_id = "C7_Underground",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "PantagruelRebels",
									Vars = set({
	MaquieEnemies = false,
}),
									__eval = function ()
										local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
										return not quest.MaquieEnemies
									end,
								}),
							},
							'Effects', {
								PlaceObj('SectorSetSide', {
									enable_sticky = true,
									sector_id = "C7",
									side = "neutral",
								}),
								PlaceObj('SectorSetSide', {
									enable_sticky = true,
									sector_id = "C7_Underground",
									side = "neutral",
								}),
							},
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "MineGuard1",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetBehaviorAdvanceTo', {
							MarkerGroup = "MineGuard1_Position",
							TargetUnit = "MineGuard1",
							UseWeapons = true,
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "MineGuard2",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetBehaviorAdvanceTo', {
							MarkerGroup = "MineGuard2_Position",
							TargetUnit = "MineGuard2",
							UseWeapons = true,
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_FosseNoire_FightDone",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7_Underground",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set({
	Completed = false,
	MaquieAllies = false,
	MaquieDefeated = false,
	MaquieEnemies = true,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return not quest.Completed and not quest.MaquieAllies and not quest.MaquieDefeated and quest.MaquieEnemies
					end,
				}),
				PlaceObj('PlayerIsPlayerTurn', {}),
			},
			Effects = {
				PlaceObj('SectorEnterConflict', {
					disable_travel = true,
					lock_conflict = true,
					sector_id = "C7_Underground",
				}),
				PlaceObj('SetTimer', {
					Label = T(321456340476, --[[QuestsDef PantagruelRebels Label]] "Rebel Reinforcements"),
					Name = "FNM_ReinforcementsSpawn",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "FosseNoireMine_SpawnReiforcements",
					QuestId = "PantagruelRebels",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "MaquisReinforcements",
				}),
			},
			Once = true,
			ParamId = "TCE_FosseNoireMine_Reinforcements",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7_Underground",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set({
	Completed = false,
	MaquieAllies = false,
	MaquieDefeated = false,
	MaquieEnemies = true,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return not quest.Completed and not quest.MaquieAllies and not quest.MaquieDefeated and quest.MaquieEnemies
					end,
				}),
				PlaceObj('CombatIsActive', {}),
			},
			Effects = {
				PlaceObj('GroupAlert', {
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_FosseNoireMine_AlertRebels",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7_Underground",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set({
	Completed = false,
	MaquieAllies = false,
	MaquieDefeated = false,
	MaquieEnemies = true,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return not quest.Completed and not quest.MaquieAllies and not quest.MaquieDefeated and quest.MaquieEnemies
					end,
				}),
				PlaceObj('GroupIsDead', {
					Group = "MaquisReinforcements",
				}),
				PlaceObj('GroupIsDead', {
					Group = "MaquisRebels",
				}),
			},
			Effects = {
				PlaceObj('KillTimer', {
					Name = "FNM_ReinforcementsSpawn",
					StopTCE = true,
				}),
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "C7_Underground",
				}),
			},
			Once = true,
			ParamId = "TCE_FosseNoireMine_Reinforcements_KillTimer",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D8",
					},
				}),
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 18,
					SecondTargetUnit = "any merc",
					TargetUnit = "Chimurenga",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set({
	MaquieEnemies = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return not quest.MaquieEnemies
					end,
				}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"PantagruelChimurenga_Approach01_Conflict",
					},
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_ChimurengaBanter_InitialEncounter",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"D8",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D8",
					},
				}),
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 18,
					SecondTargetUnit = "any merc",
					TargetUnit = "Chimurenga",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"PantagruelChimurenga_Approach03_MaquisAttacked",
					},
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_ChimurengaBanter_Attacked",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"D8",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "_GroupsAttacked",
					Vars = set( "MaquisRebels" ),
					__eval = function ()
						local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
						return quest.MaquisRebels
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set({
	MaquieAllies = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return not quest.MaquieAllies
					end,
				}),
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set( "FosseNoireFightDone" ),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return quest.FosseNoireFightDone
							end,
						}),
						PlaceObj('PlayerIsInSectors', {
							Negate = true,
							Sectors = {
								"C7",
							},
						}),
					},
				}),
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set( "DowntownInitialFightDone" ),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return quest.DowntownInitialFightDone
							end,
						}),
						PlaceObj('PlayerIsInSectors', {
							Negate = true,
							Sectors = {
								"D8",
							},
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "MaquieEnemies",
					QuestId = "PantagruelRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_MaquieAttacked",
			QuestId = "PantagruelRebels",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D8",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_ForceEnemies_Downtown",
			QuestId = "PantagruelRebels",
			SequentialEffects = false,
			requiredSectors = {
				"D8",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_ForceEnemies_FosseNoire",
			QuestId = "PantagruelRebels",
			SequentialEffects = false,
			requiredSectors = {
				"C7",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7_Underground",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_ForceEnemies_Mine",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieAllies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieAllies
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D8",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "ally",
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_ForceAllies_Downtown",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"D8",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieAllies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieAllies
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "ally",
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_ForceAllies_FosseNoire",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieAllies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieAllies
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"C7_Underground",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "ally",
					TargetUnit = "MaquisRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_ForceAllies_Mine",
			QuestId = "PantagruelRebels",
			requiredSectors = {
				"C7_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "ChimurengaEnemy",
					QuestId = "PantagruelDramas",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "C7",
					side = "enemy1",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "C7_Underground",
					side = "enemy1",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "D8",
					side = "enemy1",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('PlayerIsInSectors', {
							Negate = true,
							Sectors = {
								"D8",
							},
						}),
					},
					'Effects', {
						PlaceObj('SectorSetForceConflict', {
							force = true,
							sector_id = "D8",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('PlayerIsInSectors', {
							Negate = true,
							Sectors = {
								"C7",
							},
						}),
					},
					'Effects', {
						PlaceObj('SectorSetForceConflict', {
							force = true,
							sector_id = "C7",
						}),
					},
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = -20,
					City = "Pantagruel",
					SpecialConversationMessage = T(386120333876, --[[QuestsDef PantagruelRebels SpecialConversationMessage]] "Enemies with the <em>Maquis</em>"),
				}),
			},
			Once = true,
			ParamId = "TCE_ForceEnemies_Sectors",
			QuestId = "PantagruelRebels",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieAllies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieAllies
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set( "TCE_FosseNoire_FightDone" ),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return quest.TCE_FosseNoire_FightDone
							end,
						}),
					},
					'Effects', {
						PlaceObj('SectorSetSide', {
							disable_sticky = true,
							sector_id = "C7",
						}),
						PlaceObj('SectorSetSide', {
							disable_sticky = true,
							sector_id = "C7_Underground",
						}),
						PlaceObj('SectorSetForceConflict', {
							sector_id = "C7_Underground",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PantagruelRebels",
							Vars = set( "TCE_Downtown_FightDone" ),
							__eval = function ()
								local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
								return quest.TCE_Downtown_FightDone
							end,
						}),
					},
					'Effects', {
						PlaceObj('SectorSetSide', {
							disable_sticky = true,
							sector_id = "D8",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_ForceAllies_Sectors",
			QuestId = "PantagruelRebels",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "RemoveFlags",
					QuestId = "PantagruelRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_RemoveFlags",
			QuestId = "PantagruelRebels",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set( "MaquieEnemies" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return quest.MaquieEnemies
					end,
				}),
				PlaceObj('SectorCheckOwner', {
					sector_id = "D8",
				}),
				PlaceObj('SectorCheckOwner', {
					sector_id = "C7",
				}),
				PlaceObj('SectorCheckOwner', {
					sector_id = "C7_Underground",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "MaquieDefeated",
					QuestId = "PantagruelRebels",
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Large",
					logImportant = true,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "PantagruelRebels",
				}),
			},
			Once = true,
			ParamId = "TCE_MaquieDefeated",
			QuestId = "PantagruelRebels",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "MaquieEnemies",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MaquieAllies",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MaquieAlliesKilled_C7",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MaquieAlliesKilled_C7_Underground",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MaquieAlliesKilled_D8",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MaquieDefeated",
		}),
		PlaceObj('QuestVarBool', {
			Name = "RemoveFlags",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RemoveFlags",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Mine_YouHaveBeenWarned",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MaquieAttacked",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MaquieDefeated",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceEnemies_Sectors",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceAllies_Sectors",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceEnemies_Downtown",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceAllies_Downtown",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceEnemies_FosseNoire",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceAllies_FosseNoire",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceEnemies_Mine",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ForceAllies_Mine",
		}),
		PlaceObj('QuestVarBool', {
			Name = "DowntownInitialFightDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Downtown_FightDone",
		}),
		PlaceObj('QuestVarBool', {
			Name = "FosseNoireFightDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FosseNoireMine_Reinforcements",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FosseNoireMine_AlertRebels",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FosseNoireMine_Reinforcements_KillTimer",
		}),
		PlaceObj('QuestVarBool', {
			Name = "FosseNoireMine_SpawnReiforcements",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FosseNoire_FightDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ChimurengaBanter_InitialEncounter",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ChimurengaBanter_Attacked",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarNum', {
			Name = "AlliedAutoResolveBonus",
			Value = 800,
		}),
	},
	group = "Pantagruel",
	id = "PantagruelRebels",
})

