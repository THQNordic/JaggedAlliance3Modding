-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	DisplayName = T(285839514162, --[[QuestsDef Docks DisplayName]] "The Docks"),
	KillTCEsConditions = {
		PlaceObj('QuestIsVariableBool', {
			Condition = "or",
			QuestId = "Docks",
			Vars = set( "Failed" ),
			__eval = function ()
				local quest = gv_Quests['Docks'] or QuestGetState('Docks')
				return quest.Failed
			end,
		}),
	},
	NoteDefs = {
		LastNoteIdx = 22,
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Given
					end,
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "MentionGang" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.MentionGang
					end,
				}),
			},
			Text = T(835443633357, --[[QuestsDef Docks Text]] "There was a famous gang at the Docks known as the <em>Coffee Beans</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "K9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 6,
					Prop = "CacaoGang",
					QuestId = "Docks",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 2,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "CacaoGang",
					QuestId = "Docks",
				}),
			},
			Text = T(967783790446, --[[QuestsDef Docks Text]] "The Coffee Beans gang members <em>Gal Wilma</em>, <em>Kayla the Cutter</em>, <em>Rude Trudy</em>, <em>Old Vinnie</em> and <em>Mad Hannah</em> can be convinced to reunite in defense of the <em><SectorName('K9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangWilma" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangWilma
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 3,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangWilma" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangWilma
					end,
				}),
			},
			ShowWhenCompleted = true,
			Text = T(603500118731, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: <em>Gal Wilma</em> will join the fight"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangKayla" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangKayla
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 15,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangKayla" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangKayla
					end,
				}),
			},
			ShowWhenCompleted = true,
			Text = T(518036436676, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: <em>Kayla the Cutter</em> will join the fight"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangTrudy" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangTrudy
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 16,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangTrudy" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangTrudy
					end,
				}),
			},
			ShowWhenCompleted = true,
			Text = T(208724294942, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: <em>Rude Trudy</em> will join the fight"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangVinnie" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangVinnie
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 17,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangVinnie" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangVinnie
					end,
				}),
			},
			ShowWhenCompleted = true,
			Text = T(380060105045, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: <em>Old Vinnie</em> will join the fight"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangHannah" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangHannah
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 18,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangHannah" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangHannah
					end,
				}),
			},
			ShowWhenCompleted = true,
			Text = T(367340847654, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: <em>Mad Hannah</em> will join the fight"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest['N-NightCombat']
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "DocksLost", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.DocksLost or quest.Failed
					end,
				}),
			},
			Idx = 9,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "Given", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Given and quest['N-NightCombat']
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TakeTheFortress",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['TakeTheFortress'] or QuestGetState('TakeTheFortress')
						return quest.Completed
					end,
				}),
			},
			Text = T(225292005814, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: Pierre's sappers from the <em>Fort</em> will not appear"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest['N-NightCombat']
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "DocksLost", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.DocksLost or quest.Failed
					end,
				}),
			},
			Idx = 10,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "Given", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Given and quest['N-NightCombat']
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "DumpPeace", "SidedKnights" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.DumpPeace or quest.SidedKnights
					end,
				}),
			},
			Text = T(531744715963, --[[QuestsDef Docks Text]] "Operation <em>N-Night</em>: The <em>Junkyard Knights</em> will help defend the <SectorName('K9')>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "K9",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "DocksLost", "Failed", "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.DocksLost or quest.Failed or quest['N-NightCombat']
					end,
				}),
			},
			Idx = 5,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "MentionDate" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.MentionDate
					end,
				}),
			},
			Text = T(489841537398, --[[QuestsDef Docks Text]] "The <em><SectorName('K9')></em> will be stormed by the Legion on the night of <em><DateFormatted(NightDate)></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "K9",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed or quest.Failed
					end,
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set({
	Completed = false,
	Failed = false,
	["N-NightCombat"] = true,
}),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return not quest.Completed and not quest.Failed and quest['N-NightCombat']
					end,
				}),
			},
			Text = T(830955118452, --[[QuestsDef Docks Text]] "The <em><SectorName('K9')></em> is being stormed by the Legion"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "K9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "N-NightDone" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest['N-NightDone']
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed
					end,
				}),
			},
			Idx = 12,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "DocksLost" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.DocksLost
					end,
				}),
			},
			Text = T(889395076765, --[[QuestsDef Docks Text]] "The <em><SectorName('K9')></em> was lost to the Legion"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "CacaoGang",
					Sector = "K9",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "BombsArmed", "Completed", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.BombsArmed or quest.Completed or quest.Failed
					end,
				}),
			},
			Idx = 4,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "DocksLost" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.DocksLost
					end,
				}),
			},
			Text = T(567873060984, --[[QuestsDef Docks Text]] "The <em>Coffee Beans</em> gang are held hostage by the Legion at the <em><SectorName('K9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "CacaoGang",
					Sector = "K9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 3,
					Prop = "BombsDisarmed",
					QuestId = "Docks",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "BombsExploded" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.BombsExploded
					end,
				}),
			},
			Idx = 13,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "BombsArmed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.BombsArmed
					end,
				}),
			},
			Text = T(432550943171, --[[QuestsDef Docks Text]] "The <em>Coffee Beans</em> are held hostage by the Legion and will die unless the <em>explosives</em> are disarmed"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "K9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 2,
					Prop = "CacaoGang",
					QuestId = "Docks",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangHannah", "CacaoGangKayla", "CacaoGangTrudy", "CacaoGangVinnie", "CacaoGangWilma" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangHannah and quest.CacaoGangKayla and quest.CacaoGangTrudy and quest.CacaoGangVinnie and quest.CacaoGangWilma
					end,
				}),
			},
			Idx = 21,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 2,
					Prop = "CacaoGang",
					QuestId = "Docks",
				}),
			},
			Text = T(128148221521, --[[QuestsDef Docks Text]] "<em>Outcome:</em> Reunited <em><CacaoGang></em> of the <em>Coffee Beans</em> gang members"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "CacaoGangDead",
					QuestId = "Docks",
				}),
			},
			Idx = 22,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "CacaoGangDead",
					QuestId = "Docks",
				}),
			},
			Text = T(699356487024, --[[QuestsDef Docks Text]] "<em>Outcome:</em> <em><CacaoGangDead></em> gang members of the <em>Coffee Beans</em> joined the late Ma Baxter"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "N-NightDone" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest['N-NightDone']
					end,
				}),
			},
			Idx = 7,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "N-NightDone" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest['N-NightDone']
					end,
				}),
			},
			ShowWhenCompleted = true,
			Text = T(270838599089, --[[QuestsDef Docks Text]] "<em>Outcome:</em> Defeated the Legion and saved the <em><SectorName('K9')></em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed
					end,
				}),
				PlaceObj('QuestIsVariableNum', {
					Amount = 3,
					Prop = "BombsDisarmed",
					QuestId = "Docks",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Docks",
					Vars = set( "Failed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Failed
					end,
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Completed
					end,
				}),
				PlaceObj('QuestIsVariableNum', {
					Amount = 3,
					Prop = "BombsDisarmed",
					QuestId = "Docks",
				}),
			},
			ShowWhenCompleted = true,
			Text = T(126132259570, --[[QuestsDef Docks Text]] "<em>Outcome:</em> Saved the <em>Coffee Beans</em> gang"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Granny",
				}),
			},
			Idx = 14,
			ShowConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Granny",
				}),
			},
			ShowWhenCompleted = true,
			Text = T(507254103667, --[[QuestsDef Docks Text]] "<em>Outcome:</em> <em>Granny Cohani</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangHannah", "CacaoGangKayla", "CacaoGangTrudy", "CacaoGangVinnie", "CacaoGangWilma" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangHannah and quest.CacaoGangKayla and quest.CacaoGangTrudy and quest.CacaoGangVinnie and quest.CacaoGangWilma
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Granny",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Hannah",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Kayla",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Trudy",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Vinnie",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Wilma",
				}),
			},
			Idx = 19,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "CacaoGangHannah", "CacaoGangKayla", "CacaoGangTrudy", "CacaoGangVinnie", "CacaoGangWilma" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.CacaoGangHannah and quest.CacaoGangKayla and quest.CacaoGangTrudy and quest.CacaoGangVinnie and quest.CacaoGangWilma
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Granny",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Hannah",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Kayla",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Trudy",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Vinnie",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Wilma",
				}),
			},
			ShowWhenCompleted = true,
			Text = T(885265815509, --[[QuestsDef Docks Text]] "<em>Outcome:</em> Reunited the <em>Coffee Beans</em> gang"),
		}),
	},
	QuestGroup = "Port Cacao",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set({
	DocksLost = false,
	Given = true,
}),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return not quest.DocksLost and quest.Given
					end,
				}),
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "CacaoGang",
					QuestId = "Docks",
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"K9",
					},
				}),
				PlaceObj('CombatIsActive', {}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "ally",
					TargetUnit = "Granny",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "Granny",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set( "CacaoGangHannah" ),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return quest.CacaoGangHannah
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "GangHannah",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "GangHannah",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set( "CacaoGangKayla" ),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return quest.CacaoGangKayla
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "GangKayla",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "GangKayla",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set( "CacaoGangTrudy" ),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return quest.CacaoGangTrudy
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "GangTrudy",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "GangTrudy",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set( "CacaoGangVinnie" ),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return quest.CacaoGangVinnie
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "GangVinnie",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "GangVinnie",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set( "CacaoGangWilma" ),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return quest.CacaoGangWilma
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "GangWilma",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "GangWilma",
						}),
					},
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"CacaoGang_Gran01_combat",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			ParamId = "TCE_GangInCombat",
			QuestId = "Docks",
			requiredSectors = {
				"K9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.Given
					end,
				}),
			},
			Effects = {
				PlaceObj('ExecuteCode', {
					FuncCode = 'local date = Game.CampaignTime + (InteractionRand(3, "NNight") + 3) * const.Scale.day\ndate = date + (21 - GetTimeAsTable(date).hour) * const.Scale.h\ndate = date + (0 - GetTimeAsTable(date).min) * const.Scale.min\nSetQuestVar(obj, "NightDate", date)\nAddTimelineEvent("NNight", date, "NNight")',
				}),
			},
			Once = true,
			ParamId = "TCE_DateNight",
			QuestId = "Docks",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestHasTimerPassed', {
					QuestId = "Docks",
					TimerVariable = "NightDate",
				}),
			},
			Effects = {
				PlaceObj('SectorSpawnSquad', {
					sector_id = "K9",
					squad_def_id = "NNightSquad",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TakeTheFortress",
							Vars = set( "Completed" ),
							__eval = function ()
								local quest = gv_Quests['TakeTheFortress'] or QuestGetState('TakeTheFortress')
								return quest.Completed
							end,
						}),
					},
					'EffectsElse', {
						PlaceObj('SectorSpawnSquad', {
							sector_id = "K9",
							squad_def_id = "NNightSquadSappers",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('PlayerSquadPresentInSectors', {
							Sector = "K9",
						}),
					},
					'EffectsElse', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "DocksLost",
							QuestId = "Docks",
						}),
					},
				}),
				PlaceObj('SectorSetForceConflict', {
					force = true,
					sector_id = "K9",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "N-NightCombat",
					QuestId = "Docks",
				}),
			},
			Once = true,
			ParamId = "TCE_SpawnNightAttackers",
			QuestId = "Docks",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest['N-NightCombat']
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"K9",
					},
				}),
				PlaceObj('SatelliteGameplayRunning', {
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('GroupAlert', {
					TargetUnit = "EnemySquad",
				}),
			},
			Once = true,
			ParamId = "TCE_NNightAlertEnemies",
			QuestId = "Docks",
			requiredSectors = {
				"K9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest['N-NightCombat']
					end,
				}),
				PlaceObj('SectorCheckOwner', {
					owner = "any enemy",
					sector_id = "K9",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "DocksLost",
					QuestId = "Docks",
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = -10,
					City = "PortDiancie",
					SpecialConversationMessage = T(284554115412, --[[QuestsDef Docks SpecialConversationMessage]] "operation <em>N-Night</em> was successful"),
				}),
			},
			Once = true,
			ParamId = "TCE_LoseDocks",
			QuestId = "Docks",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"K9",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set({
	Completed = false,
	DocksLost = true,
	Failed = false,
}),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return not quest.Completed and quest.DocksLost and not quest.Failed
					end,
				}),
				PlaceObj('PlayerSquadPresentInSectors', {
					Sector = "K9",
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "neutral",
					TargetUnit = "CacaoGang",
				}),
				PlaceObj('GroupSetRoutine', {
					IdleStance = "Tied",
					Routine = "StandStill",
					RoutineArea = "GangHostagePosition",
					TargetUnit = "CacaoGang",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "GangHannah",
						}),
					},
					'EffectsElse', {
						PlaceObj('GroupTeleport', {
							IdleAction = "Idle",
							IdleStance = "Tied",
							MarkerGroup = "GangHostagePosition",
							TargetUnit = "GangHannah",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "GangKayla",
						}),
					},
					'EffectsElse', {
						PlaceObj('GroupTeleport', {
							IdleAction = "Idle",
							IdleStance = "Tied",
							MarkerGroup = "GangHostagePosition",
							TargetUnit = "GangKayla",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "GangTrudy",
						}),
					},
					'EffectsElse', {
						PlaceObj('GroupTeleport', {
							IdleAction = "Idle",
							IdleStance = "Tied",
							MarkerGroup = "GangHostagePosition",
							TargetUnit = "GangTrudy",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "GangVinnie",
						}),
					},
					'EffectsElse', {
						PlaceObj('GroupTeleport', {
							IdleAction = "Idle",
							IdleStance = "Tied",
							MarkerGroup = "GangHostagePosition",
							TargetUnit = "GangVinnie",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "GangWilma",
						}),
					},
					'EffectsElse', {
						PlaceObj('GroupTeleport', {
							IdleAction = "Idle",
							IdleStance = "Tied",
							MarkerGroup = "GangHostagePosition",
							TargetUnit = "GangWilma",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GroupIsDead', {
							Group = "Granny",
						}),
					},
					'EffectsElse', {
						PlaceObj('GroupTeleport', {
							IdleAction = "Idle",
							IdleStance = "Tied",
							MarkerGroup = "GangHostagePosition",
							TargetUnit = "Granny",
						}),
					},
				}),
				PlaceObj('NeutralNPCDontMove', {
					TargetUnit = "CacaoGang",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "BombsArmed",
					QuestId = "Docks",
				}),
				PlaceObj('PlaySetpiece', {
					setpiece = "DocksLost",
				}),
				PlaceObj('SetTimer', {
					Label = T(737285480864, --[[QuestsDef Docks Label]] "Disarm The Bombs"),
					Name = "DisarmTheBombs",
					Time = 120000,
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableNum', {
							Amount = 3,
							Condition = "<",
							Prop = "BombsDisarmed",
							QuestId = "Docks",
						}),
					},
					'Effects', {
						PlaceObj('Explosion', {
							AreaOfEffect = 20,
							Damage = 200,
							ExplosionType = "C4",
							LocationGroup = "Bomb1",
						}),
						PlaceObj('Explosion', {
							AreaOfEffect = 10,
							Damage = 200,
							ExplosionType = "C4",
							LocationGroup = "Bomb2",
						}),
						PlaceObj('Explosion', {
							AreaOfEffect = 10,
							Damage = 200,
							ExplosionType = "C4",
							LocationGroup = "Bomb3",
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "BombsExploded",
					QuestId = "Docks",
				}),
			},
			Once = true,
			ParamId = "TCE_BombLogic",
			QuestId = "Docks",
			requiredSectors = {
				"K9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 3,
					Prop = "BombsDisarmed",
					QuestId = "Docks",
				}),
			},
			Effects = {
				PlaceObj('KillTimer', {
					Name = "DisarmTheBombs",
					StopTCE = true,
				}),
				PlaceObj('GroupSetRoutine', {
					RestoreDefault = true,
					Running = true,
					TargetUnit = "CacaoGang",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableNum', {
							Amount = 1,
							Prop = "CacaoGang",
							QuestId = "Docks",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "DocksLost",
							QuestId = "Docks",
							Set = false,
						}),
						PlaceObj('GrantExperienceSector', {
							logImportant = true,
						}),
					},
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "PortDiancie",
					SpecialConversationMessage = T(857433377342, --[[QuestsDef Docks SpecialConversationMessage]] "disarmed the bombs"),
				}),
			},
			Once = true,
			ParamId = "TCE_BombDisarmLogic",
			QuestId = "Docks",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "BombsArmed", "BombsExploded" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest.BombsArmed and quest.BombsExploded
					end,
				}),
				PlaceObj('QuestIsVariableNum', {
					Amount = 4,
					Prop = "CacaoGangDead",
					QuestId = "Docks",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "Docks",
				}),
			},
			Once = true,
			ParamId = "TCE_Failed",
			QuestId = "Docks",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Docks",
					Vars = set( "N-NightCombat" ),
					__eval = function ()
						local quest = gv_Quests['Docks'] or QuestGetState('Docks')
						return quest['N-NightCombat']
					end,
				}),
				PlaceObj('SectorCheckOwner', {
					sector_id = "K9",
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
					sector_id = "K9",
				}),
			},
			Effects = {
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Large",
					logImportant = true,
				}),
				PlaceObj('SectorSetMilitia', {
					sector_id = "K9",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set({
	BombsArmed = false,
}),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return not quest.BombsArmed
							end,
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 10,
							City = "PortDiancie",
							SpecialConversationMessage = T(295844522814, --[[QuestsDef Docks SpecialConversationMessage]] "stopped operation <em>N-Night</em>"),
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "N-NightDone",
					QuestId = "Docks",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Docks",
							Vars = set({
	Failed = false,
}),
							__eval = function ()
								local quest = gv_Quests['Docks'] or QuestGetState('Docks')
								return not quest.Failed
							end,
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "Completed",
							QuestId = "Docks",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_Completed",
			QuestId = "Docks",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "MentionGang",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MentionGuns",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MentionDate",
		}),
		PlaceObj('QuestVarNum', {
			Name = "NightDate",
		}),
		PlaceObj('QuestVarBool', {
			Name = "N-NightCombat",
		}),
		PlaceObj('QuestVarBool', {
			Name = "GranSoften",
		}),
		PlaceObj('QuestVarNum', {
			Name = "CacaoGang",
		}),
		PlaceObj('QuestVarNum', {
			Name = "CacaoGangDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangWilmaInitial",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangWilma",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangKaylaInitial",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangKayla",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangTrudyInitial",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangTrudy",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangVinnieInitial",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangVinnie",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangHannahInitial",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CacaoGangHannah",
		}),
		PlaceObj('QuestVarBool', {
			Name = "DocksLost",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BombsArmed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BombsExploded",
		}),
		PlaceObj('QuestVarNum', {
			Name = "BombsDisarmed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "N-NightDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_DateNight",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_SpawnNightAttackers",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_NNightAlertEnemies",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LoseDocks",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BombLogic",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BombDisarmLogic",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Failed",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Completed",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_GangInCombat",
		}),
	},
	group = "PortCacao",
	id = "Docks",
})

