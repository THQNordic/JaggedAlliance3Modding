-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Vlad",
	DisplayName = T(375740490392, --[[QuestsDef ReduceRiverCampStrength DisplayName]] "Camp Chien Sauvage"),
	Hidden = true,
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	QuestGroup = "Jungle",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D15",
					},
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "AlphaHyena",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('CustomCodeEffect', {
					custom_code = 'local bigHyena = Groups["StrongHyena"]; bigHyena = bigHyena and bigHyena[2]; if not bigHyena then return end; bigHyena:SetScale(130); bigHyena:SetColorModifier(red);',
				}),
				PlaceObj('ShowGuardpostObjective', {
					GuardpostObjective = "AlphaHyena",
				}),
			},
			Once = true,
			ParamId = "TCE_HyenaOnSector",
			QuestId = "ReduceRiverCampStrength",
			requiredSectors = {
				"D15",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "ObjectiveHyenas",
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GuardpostObjectiveDone', {
							GuardpostObjective = "AlphaHyena",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "AlphaHyena",
						}),
					},
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "IlleMorat",
					SpecialConversationMessage = T(477643530419, --[[QuestsDef ReduceRiverCampStrength SpecialConversationMessage]] "destroyed the hyena lair"),
				}),
			},
			Once = true,
			ParamId = "TCE_HyenaKilled",
			QuestId = "ReduceRiverCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Beast",
					Vars = set( "LightPylonSuccess" ),
					__eval = function ()
						local quest = gv_Quests['Beast'] or QuestGetState('Beast')
						return quest.LightPylonSuccess
					end,
				}),
			},
			Effects = {
				PlaceObj('ShowGuardpostObjective', {
					GuardpostObjective = "Effigies",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GuardpostObjectiveDone', {
							GuardpostObjective = "TheBeast",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('ShowGuardpostObjective', {
							GuardpostObjective = "TheBeast",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_BeastGiven",
			QuestId = "ReduceRiverCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Beast",
					Vars = set( "BeastEffigyOn" ),
					__eval = function ()
						local quest = gv_Quests['Beast'] or QuestGetState('Beast')
						return quest.BeastEffigyOn
					end,
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "TheBeast",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('CompleteGuardpostObjective', {
					GuardpostObjective = "TheBeast",
				}),
			},
			Once = true,
			ParamId = "TCE_BeastHelp",
			QuestId = "ReduceRiverCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceRiverCampStrength",
					Vars = set( "EffigyConstructed" ),
					__eval = function ()
						local quest = gv_Quests['ReduceRiverCampStrength'] or QuestGetState('ReduceRiverCampStrength')
						return quest.EffigyConstructed
					end,
				}),
				PlaceObj('UnitIsOnMap', {
					DisableContextModification = true,
					TargetUnit = "LegionMale_1_Effigy",
				}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"RiverCamp_GuardpostObjective_BeastEffigy_Legion",
					},
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('GuardpostObjectiveDone', {
							GuardpostObjective = "Effigies",
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "Effigies",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_EffigyCheck",
			QuestId = "ReduceRiverCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceRiverCampStrength",
					Vars = set( "EffigyConstructed" ),
					__eval = function ()
						local quest = gv_Quests['ReduceRiverCampStrength'] or QuestGetState('ReduceRiverCampStrength')
						return quest.EffigyConstructed
					end,
				}),
			},
			Effects = {
				PlaceObj('SleepEffect', {
					Sleep = 5000,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "EffigyConstructedSpawnUnits",
					QuestId = "ReduceRiverCampStrength",
				}),
			},
			Once = true,
			ParamId = "TCE_EffigySpawnEnemies",
			QuestId = "ReduceRiverCampStrength",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_HyenaOnSector",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_HyenaKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BeastGiven",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BeastHelp",
		}),
		PlaceObj('QuestVarBool', {
			Name = "EffigyConstructed",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_EffigyCheck",
		}),
		PlaceObj('QuestVarBool', {
			Name = "EffigyConstructedSpawnUnits",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_EffigySpawnEnemies",
		}),
	},
	group = "Outposts",
	id = "ReduceRiverCampStrength",
})

