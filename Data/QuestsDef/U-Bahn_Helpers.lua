-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('PlayerIsInSectors', {
							Sectors = {
								"I11_Underground",
							},
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "U-Bahn",
							Vars = set( "DebugOpenAllUndergroundEntrances" ),
							__eval = function ()
								local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
								return quest.DebugOpenAllUndergroundEntrances
							end,
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "I11Bushes",
					QuestId = "U-Bahn_Helpers",
				}),
			},
			Once = true,
			ParamId = "TCE_I11U_Entrance",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('AND', {
					Conditions = {
						PlaceObj('OR', {
							Conditions = {
								PlaceObj('PlayerIsInSectors', {
									Sectors = {
										"B12_Underground",
									},
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "U-Bahn",
									Vars = set( "SiegfriedAttackStarted" ),
									__eval = function ()
										local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
										return quest.SiegfriedAttackStarted
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "U-Bahn",
									Vars = set( "DebugOpenAllUndergroundEntrances" ),
									__eval = function ()
										local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
										return quest.DebugOpenAllUndergroundEntrances
									end,
								}),
							},
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Landsbach",
							Vars = set({
	Completed = false,
	Failed = false,
}),
							__eval = function ()
								local quest = gv_Quests['Landsbach'] or QuestGetState('Landsbach')
								return not quest.Completed and not quest.Failed
							end,
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "VisitedKlinik",
					QuestId = "U-Bahn_Helpers",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "StopSiegfriedSpawning",
					QuestId = "U-Bahn_Helpers",
				}),
				PlaceObj('SectorSetForceConflict', {
					force = true,
					sector_id = "B12",
				}),
			},
			Once = true,
			ParamId = "TCE_B12UEntrance",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"B11_Underground",
						"B12_Underground",
						"G12_Underground",
						"J14_Underground",
						"K11_Underground",
						"F12_Underground",
						"G14_Underground",
						"K15_Underground",
						"I11_Underground",
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "VisitedUnderground",
					QuestId = "U-Bahn_Helpers",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Given",
					QuestId = "U-Bahn",
				}),
			},
			Once = true,
			ParamId = "TCE_VisitedUnderground",
			QuestId = "U-Bahn_Helpers",
			requiredSectors = {
				"B11_Underground",
				"B12_Underground",
				"G12_Underground",
				"J14_Underground",
				"K11_Underground",
				"F12_Underground",
				"G14_Underground",
				"K15_Underground",
				"I11_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('IsCurrentMap', {
					MapFile = "K-11U - Cryolabor",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "StopSiegfriedSpawning",
					QuestId = "U-Bahn_Helpers",
				}),
			},
			Once = true,
			ParamId = "TCE_CryoLabVisited",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "K15_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayK11toK15",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayK15toJ14",
				}),
			},
			ParamId = "TCE_K15Bahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "J14_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayJ14toG14",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayK15toJ14",
				}),
			},
			ParamId = "TCE_J14UBahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "G14_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayJ14toG14",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayG14toG12",
				}),
			},
			ParamId = "TCE_G14UBahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "K11_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayK11toI11",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayK11toK15",
				}),
			},
			ParamId = "TCE_K11UBahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "I11_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayF12toI11",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayK11toI11",
				}),
			},
			ParamId = "TCE_I11UBahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "G12_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayF12toG12",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayG14toG12",
				}),
			},
			ParamId = "TCE_G12UBahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "F12_Underground",
				}),
			},
			Effects = {
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayF12toG12",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayF12toI11",
				}),
			},
			ParamId = "TCE_F12UBahn",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('IsCurrentMap', {
					MapFile = "J-14U - Biolabor",
				}),
				PlaceObj('UnitCanGoToPos', {
					PositionMarker = "OutsideCell",
					TargetUnit = "BioLabCellInfected",
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "BioLabCellInfected",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "BioLabCellInfected",
				}),
			},
			Once = true,
			ParamId = "TCE_BiolabCellInfected",
			QuestId = "U-Bahn_Helpers",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"B12",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn_Helpers",
					Vars = set( "VisitedKlinik" ),
					__eval = function ()
						local quest = gv_Quests['U-Bahn_Helpers'] or QuestGetState('U-Bahn_Helpers')
						return quest.VisitedKlinik
					end,
				}),
			},
			Effects = {
				PlaceObj('LockpickableSetState', {
					Group = "LandsbachDoor",
					State = "unlocked",
				}),
			},
			Once = true,
			ParamId = "TCE_B12Unlock",
			QuestId = "U-Bahn_Helpers",
			requiredSectors = {
				"B12",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"K16_Underground",
					},
				}),
				PlaceObj('UnitCanGoToPos', {
					PositionMarker = "KillSwitch_Notice",
					TargetUnit = "any merc",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "K16_DoorUnlocked",
					QuestId = "U-Bahn_Helpers",
				}),
			},
			Once = true,
			ParamId = "TCE_K16_Entrance",
			QuestId = "U-Bahn_Helpers",
			requiredSectors = {
				"K16_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
						return quest.Completed
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"B12",
					},
				}),
				PlaceObj('UnitIsOnMap', {
					TargetUnit = "OldMan_Guard",
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy2",
					TargetUnit = "OldMan_Guard",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "OldMan_Guard",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "B12",
					side = "enemy2",
				}),
				PlaceObj('SectorSetForceConflict', {
					force = true,
					sector_id = "B12",
				}),
			},
			Once = true,
			ParamId = "TCE_HandleLandsbachAfterCompletion",
			QuestId = "U-Bahn_Helpers",
			requiredSectors = {
				"B12",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn",
					Vars = set( "OutcomeSanatorium" ),
					__eval = function ()
						local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
						return quest.OutcomeSanatorium
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn_Helpers",
					Vars = set({
	VisitedGruselheim_Sanatorium = false,
}),
					__eval = function ()
						local quest = gv_Quests['U-Bahn_Helpers'] or QuestGetState('U-Bahn_Helpers')
						return not quest.VisitedGruselheim_Sanatorium
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"H12",
						"H12_Underground",
					},
				}),
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 12,
					SecondTargetUnit = "DrGruselheim",
					TargetUnit = "any merc",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "VisitedGruselheim_Sanatorium",
					QuestId = "U-Bahn_Helpers",
				}),
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
			},
			Once = true,
			ParamId = "TCE_VisitGruselheim_Sanatorium",
			QuestId = "U-Bahn_Helpers",
			requiredSectors = {
				"H12",
				"H12_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn",
					Vars = set( "OutcomeDiesel" ),
					__eval = function ()
						local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
						return quest.OutcomeDiesel
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn_Helpers",
					Vars = set({
	VisitedGruselheim_Diesel = false,
}),
					__eval = function ()
						local quest = gv_Quests['U-Bahn_Helpers'] or QuestGetState('U-Bahn_Helpers')
						return not quest.VisitedGruselheim_Diesel
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"B12_Underground",
					},
				}),
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 12,
					SecondTargetUnit = "DrGruselheim",
					TargetUnit = "any merc",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "VisitedGruselheim_Diesel",
					QuestId = "U-Bahn_Helpers",
				}),
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
			},
			Once = true,
			ParamId = "TCE_VisitGruselheim_Diesel",
			QuestId = "U-Bahn_Helpers",
			requiredSectors = {
				"B12_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "U-Bahn",
					Vars = set( "ClearCollapse" ),
					__eval = function ()
						local quest = gv_Quests['U-Bahn'] or QuestGetState('U-Bahn')
						return quest.ClearCollapse
					end,
				}),
			},
			Effects = {
				PlaceObj('SetSectorDiscovered', {
					sector_id = "B11_Underground",
				}),
				PlaceObj('SatelliteShortcutUnlockEffect', {
					shortcut_id = "SubwayB11toF12",
				}),
			},
			Once = true,
			ParamId = "TCE_ClearCollapseUnlock",
			QuestId = "U-Bahn_Helpers",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "I11Bushes",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_I11U_Entrance",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_B12UEntrance",
		}),
		PlaceObj('QuestVarBool', {
			Name = "VisitedKlinik",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_VisitedUnderground",
		}),
		PlaceObj('QuestVarBool', {
			Name = "VisitedUnderground",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_K15Bahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_J14UBahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_G14UBahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_K11UBahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_I11UBahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_G12UBahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_F12UBahn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BiolabCellInfected",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_B12Unlock",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_K16_Entrance",
		}),
		PlaceObj('QuestVarBool', {
			Name = "K16_DoorUnlocked",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_HandleLandsbachAfterCompletion",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_CryoLabVisited",
		}),
		PlaceObj('QuestVarBool', {
			Name = "StopSiegfriedSpawning",
		}),
		PlaceObj('QuestVarBool', {
			Name = "VisitedGruselheim_Sanatorium",
		}),
		PlaceObj('QuestVarBool', {
			Name = "VisitedGruselheim_Diesel",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_VisitGruselheim_Diesel",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_VisitGruselheim_Sanatorium",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ClearCollapseUnlock",
		}),
	},
	group = "DLC_U-Bahn",
	id = "U-Bahn_Helpers",
})

