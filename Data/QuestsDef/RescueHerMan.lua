-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Boyan",
	Chapter = "Intro",
	DisplayName = T(183376074617, --[[QuestsDef RescueHerMan DisplayName]] "Herman is missing"),
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	NoteDefs = {
		LastNoteIdx = 27,
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HermanRescued" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HermanRescued
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "MarthaDeedee" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.MarthaDeedee
							end,
						}),
					},
				}),
			},
			Idx = 26,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set({
	MarthaDeedee = false,
	MarthaTalked = true,
}),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return not quest.MarthaDeedee and quest.MarthaTalked
					end,
				}),
			},
			Text = T(828674851328, --[[QuestsDef RescueHerMan Text]] "<em>Martha</em> is looking for her husband who was kidnapped by the <em>Legion</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Herman",
					Sector = "I3",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HermanRescued" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HermanRescued
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "04_Betrayal",
					Vars = set( "WorldFlipDone" ),
					__eval = function ()
						local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
						return quest.WorldFlipDone
					end,
				}),
			},
			Idx = 14,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "MarthaDeedee" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.MarthaDeedee
					end,
				}),
			},
			Text = T(161573802541, --[[QuestsDef RescueHerMan Text]] "<em>Martha</em> is looking for her husband who was kidnapped by the <em>Legion</em> and was last seen on the <em><SectorName('I3')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HermanRescued" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HermanRescued
					end,
				}),
			},
			Idx = 25,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HermanRescued" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HermanRescued
					end,
				}),
			},
			Text = T(216215887366, --[[QuestsDef RescueHerMan Text]] "<em>Herman</em> snitched on his neighbor <em>Tinhay</em> who was then executed by the Legion"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "H2",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "Completed", "HangingActive" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed or quest.HangingActive
					end,
				}),
			},
			Idx = 19,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HermanRescued" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HermanRescued
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "02_LiberateErnie",
					Vars = {
						Completed = true,
					},
					__eval = function ()
						local quest = gv_Quests['02_LiberateErnie'] or QuestGetState('02_LiberateErnie')
						return quest.Completed
					end,
				}),
			},
			Text = T(268960951694, --[[QuestsDef RescueHerMan Text]] "Rescued <em>Herman</em> and he promised a reward once he returns to the <em><SectorName('H2')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "H2",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "HangingActive" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangingActive
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "PierreDefeated",
							Vars = set( "PierreJoined" ),
							__eval = function ()
								local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
								return quest.PierreJoined
							end,
						}),
					},
				}),
			},
			Idx = 15,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HermanRescued" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HermanRescued
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "02_LiberateErnie",
					Vars = {
						Completed = false,
					},
					__eval = function ()
						local quest = gv_Quests['02_LiberateErnie'] or QuestGetState('02_LiberateErnie')
						return not quest.Completed
					end,
				}),
			},
			Text = T(743399842255, --[[QuestsDef RescueHerMan Text]] "Herman will return to the <em><SectorName('H2')></em> once it is safe"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Hanging_Basil",
					Sector = "H2",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RescueHerMan",
							Vars = set( "HangHerman", "HangLuc", "HangNoOne" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangHerman or quest.HangLuc or quest.HangNoOne
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
					},
				}),
			},
			Idx = 16,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HangingActive" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangingActive
					end,
				}),
			},
			Text = T(523491762655, --[[QuestsDef RescueHerMan Text]] "There is some kind of commotion in the <em><SectorName('H2')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Hanging_Herman",
					Sector = "H2",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "Completed", "RewardGiven" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed or quest.RewardGiven
					end,
				}),
			},
			Idx = 22,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "HangLuc", "HangNoOne" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangLuc or quest.HangNoOne
					end,
				}),
			},
			Text = T(974878120120, --[[QuestsDef RescueHerMan Text]] "<em>Herman</em> promised a <em>reward</em> for rescuing him"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "HangLuc" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangLuc
							end,
						}),
						PlaceObj('CheckAND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "RescueHerMan",
									Vars = set( "RewardGiven" ),
									__eval = function ()
										local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
										return quest.RewardGiven
									end,
								}),
								PlaceObj('CheckOR', {
									Conditions = {
										PlaceObj('QuestIsVariableBool', {
											QuestId = "04_Betrayal",
											Vars = set( "WorldFlipDone" ),
											__eval = function ()
												local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
												return quest.WorldFlipDone
											end,
										}),
										PlaceObj('QuestIsVariableBool', {
											QuestId = "PierreDefeated",
											Vars = set( "PierreJoined" ),
											__eval = function ()
												local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
												return quest.PierreJoined
											end,
										}),
									},
								}),
							},
						}),
					},
				}),
			},
			Idx = 20,
			ShowConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "HangLuc" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangLuc
							end,
						}),
						PlaceObj('CheckAND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "RescueHerMan",
									Vars = set( "RewardGiven" ),
									__eval = function ()
										local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
										return quest.RewardGiven
									end,
								}),
								PlaceObj('CheckOR', {
									Conditions = {
										PlaceObj('QuestIsVariableBool', {
											QuestId = "04_Betrayal",
											Vars = set( "WorldFlipDone" ),
											__eval = function ()
												local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
												return quest.WorldFlipDone
											end,
										}),
										PlaceObj('QuestIsVariableBool', {
											QuestId = "PierreDefeated",
											Vars = set( "PierreJoined" ),
											__eval = function ()
												local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
												return quest.PierreJoined
											end,
										}),
									},
								}),
							},
						}),
					},
				}),
			},
			Text = T(568880588114, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> <em>Herman's</em> involvement in Tinhay's murder was not revealed"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "HangHerman", "HangNoOne" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangHerman or quest.HangNoOne
					end,
				}),
			},
			Idx = 21,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "HangHerman", "HangNoOne" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangHerman or quest.HangNoOne
					end,
				}),
			},
			Text = T(540037612004, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> Exposed <em>Herman's</em> involvement in Tinhay's murder"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Martha",
					Sector = "H2",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed
					end,
				}),
			},
			Idx = 13,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HangHerman", "TCE_ResolveHanging" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangHerman and quest.TCE_ResolveHanging
					end,
				}),
			},
			Text = T(459013579242, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> <em>Herman</em> was hanged in the <em><SectorName('H2')></em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HangNoOne", "TCE_ResolveHanging" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangNoOne and quest.TCE_ResolveHanging
					end,
				}),
			},
			Idx = 18,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HangNoOne", "TCE_ResolveHanging" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangNoOne and quest.TCE_ResolveHanging
					end,
				}),
			},
			Text = T(896143917731, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> Prevented the hanging in the <em><SectorName('H2')></em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HangLuc", "TCE_ResolveHanging" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangLuc and quest.TCE_ResolveHanging
					end,
				}),
			},
			Idx = 17,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "HangLuc", "TCE_ResolveHanging" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangLuc and quest.TCE_ResolveHanging
					end,
				}),
			},
			Text = T(343460347485, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> <em>Luc</em> was hanged in the <em><SectorName('H2')></em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "Completed", "HangHerman" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed and quest.HangHerman
					end,
				}),
			},
			Idx = 23,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "Completed", "HangHerman" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed and quest.HangHerman
					end,
				}),
			},
			Text = T(951714414536, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> <em>Martha</em> left the <em><SectorName('H2')></em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "HangLuc", "HangNoOne" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangLuc or quest.HangNoOne
					end,
				}),
			},
			Idx = 24,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.Completed
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RescueHerMan",
					Vars = set( "HangLuc", "HangNoOne" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.HangLuc or quest.HangNoOne
					end,
				}),
			},
			Text = T(357005604228, --[[QuestsDef RescueHerMan Text]] "<em>Outcome:</em> <em>Martha</em> and <em>Herman</em> left the <em><SectorName('H2')></em>"),
		}),
	},
	QuestGroup = "Ernie Island",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "HermanRaiders",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "RaidersDefeated",
					QuestId = "RescueHerMan",
				}),
				PlaceObj('GroupSetBehaviorIdle', {
					RestoreDefault = true,
					TargetUnit = "Herman",
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersDefeated",
			QuestId = "RescueHerMan",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsOnMap', {
					TargetUnit = "HermanRaiders",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = {
						Completed = false,
						Failed = false,
						HermanRescued = false,
						RaidersDefeated = false,
						RaidersMet = false,
					},
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return not quest.Completed and not quest.Failed and not quest.HermanRescued and not quest.RaidersDefeated and not quest.RaidersMet
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"I3",
					},
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
				PlaceObj('UnitIsAroundMarkerOfGroup', {
					DisableContextModification = true,
					MarkerGroup = "TriggerConversation",
					TargetUnit = "any merc",
				}),
			},
			Effects = {
				PlaceObj('UnitStartConversation', {
					Conversation = "Herman_1",
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersConversation",
			QuestId = "RescueHerMan",
			requiredSectors = {
				"I3",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsAware', {
					TargetUnit = "HermanRaiders",
				}),
				PlaceObj('CombatIsActive', {}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy1",
					TargetUnit = "HermanRaiders",
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersCombat",
			QuestId = "RescueHerMan",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RescueHerMan",
							Vars = {
								HangHerman = true,
								HangLuc = true,
								HangNoOne = true,
							},
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangHerman or quest.HangLuc or quest.HangNoOne
							end,
						}),
						PlaceObj('CheckAND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "RescueHerMan",
									Vars = set( "HermanRescued" ),
									__eval = function ()
										local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
										return quest.HermanRescued
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "PierreDefeated",
									Vars = set( "PierreJoined" ),
									__eval = function ()
										local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
										return quest.PierreJoined
									end,
								}),
								PlaceObj('PlayerIsInSectors', {
									Sectors = {
										"H2",
									},
								}),
							},
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('EffectsWithCondition', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = {
								HangLuc = true,
							},
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangLuc
							end,
						}),
					},
					Effects = {
						PlaceObj('MusicSetTrack', {
							Playlist = "Scripted",
							Track = "Music/Ukuphina",
						}),
						PlaceObj('PlaySetpiece', {
							setpiece = "HangingLuc",
						}),
					},
				}),
				PlaceObj('EffectsWithCondition', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = {
								HangHerman = true,
							},
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangHerman
							end,
						}),
					},
					Effects = {
						PlaceObj('MusicSetTrack', {
							Playlist = "Scripted",
							Track = "Music/Ukuphina",
						}),
						PlaceObj('PlaySetpiece', {
							setpiece = "HangingLuc",
						}),
						PlaceObj('GroupSetBehaviorIdle', {
							RestoreDefault = true,
							TargetUnit = "Luc",
						}),
						PlaceObj('SetBehaviorVisitAL', {
							ActorGroup = "Luc",
							MarkerGroup = "AL_PostHangingLuc",
						}),
					},
				}),
				PlaceObj('EffectsWithCondition', {
					Conditions = {
						PlaceObj('CheckOR', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "RescueHerMan",
									Vars = {
										HangNoOne = true,
									},
									__eval = function ()
										local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
										return quest.HangNoOne
									end,
								}),
								PlaceObj('CheckAND', {
									Conditions = {
										PlaceObj('QuestIsVariableBool', {
											QuestId = "RescueHerMan",
											Vars = set( "HermanRescued" ),
											__eval = function ()
												local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
												return quest.HermanRescued
											end,
										}),
										PlaceObj('QuestIsVariableBool', {
											QuestId = "PierreDefeated",
											Vars = set( "PierreJoined" ),
											__eval = function ()
												local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
												return quest.PierreJoined
											end,
										}),
										PlaceObj('PlayerIsInSectors', {
											Sectors = {
												"H2",
											},
										}),
									},
								}),
							},
						}),
					},
					Effects = {
						PlaceObj('GroupSetBehaviorIdle', {
							RestoreDefault = true,
							TargetUnit = "Luc",
						}),
						PlaceObj('SetBehaviorVisitAL', {
							ActorGroup = "Luc",
							MarkerGroup = "AL_PostHangingLuc",
						}),
					},
				}),
				PlaceObj('GroupSetBehaviorPatrol', {
					MarkerGroup = "HangingMartha_Path",
					TargetUnit = "Hanging_Martha",
				}),
				PlaceObj('SetBehaviorVisitAL', {
					ActorGroup = "GreasyBasil",
					MarkerGroup = "AL_GreasyBasil",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "HangingActive",
					QuestId = "RescueHerMan",
					Set = false,
				}),
				PlaceObj('GroupSetImmortal', {
					TargetUnit = "GreasyBasil",
				}),
				PlaceObj('GroupSetImmortal', {
					TargetUnit = "Martha",
				}),
				PlaceObj('GroupSetImmortal', {
					TargetUnit = "Herman",
				}),
				PlaceObj('GroupSetImmortal', {
					TargetUnit = "Luc",
				}),
			},
			Once = true,
			ParamId = "TCE_ResolveHanging",
			QuestId = "RescueHerMan",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueHerMan",
					Vars = set( "RewardGiven" ),
					__eval = function ()
						local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
						return quest.RewardGiven
					end,
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
					sector_id = "H2",
				}),
			},
			Effects = {
				PlaceObj('UnitGrantItem', {
					LootTableId = "Herman_All",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "HangLuc", "PromisedHerman" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangLuc and quest.PromisedHerman
							end,
						}),
					},
					'Effects', {
						PlaceObj('UnitGrantItem', {
							LootTableId = "Herman_Diamonds",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "HangLuc" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.HangLuc
							end,
						}),
					},
					'Effects', {
						PlaceObj('UnitGrantItem', {
							LootTableId = "Herman_Gun",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_HermanReward",
			QuestId = "RescueHerMan",
			SequentialEffects = false,
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"Herman_04_PostLynch_Luc",
						"Herman_04_PostLynch_NoOne",
					},
					WaitOver = true,
				}),
			},
			Effects = {
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "North",
					TargetUnit = "Hanging_Martha",
				}),
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "North",
					TargetUnit = "Hanging_Herman",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "RescueHerMan",
				}),
			},
			Once = true,
			ParamId = "TCE_HermanLeave",
			QuestId = "RescueHerMan",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"Martha_02_PostLynch_Herman",
					},
					WaitOver = true,
				}),
			},
			Effects = {
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "North",
					Running = true,
					TargetUnit = "Hanging_Martha",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "RescueHerMan",
				}),
			},
			Once = true,
			ParamId = "TCE_MarthaLeave",
			QuestId = "RescueHerMan",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "HermanRescued",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaTalked",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaRude",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaDeedee",
		}),
		PlaceObj('QuestVarBool', {
			Name = "RaidersMet",
		}),
		PlaceObj('QuestVarBool', {
			Name = "RaidersDefeated",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MineDefused",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MineExamined",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MineExploded",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PromisedHerman",
		}),
		PlaceObj('QuestVarBool', {
			Name = "HangHerman",
		}),
		PlaceObj('QuestVarBool', {
			Name = "HangLuc",
		}),
		PlaceObj('QuestVarBool', {
			Name = "HangNoOne",
		}),
		PlaceObj('QuestVarBool', {
			Name = "RewardGiven",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BetrayedHerman",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LucSaved",
		}),
		PlaceObj('QuestVarBool', {
			Name = "HangingActive",
		}),
		PlaceObj('QuestVarBool', {
			Name = "HangingSetpiecePlaying",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MarthaLeave",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_HermanReward",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_HermanLeave",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ResolveHanging",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "HermanDeeDee",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersConversation",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersCombat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersDefeated",
		}),
	},
	group = "Ernie",
	id = "RescueHerMan",
})

