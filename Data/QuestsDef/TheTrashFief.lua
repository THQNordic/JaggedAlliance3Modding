-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Boyan",
	DevNotes = "",
	DisplayName = T(979834871474, --[[QuestsDef TheTrashFief DisplayName]] "The Dump"),
	KillTCEsConditions = {
		PlaceObj('QuestIsVariableBool', {
			Condition = "or",
			QuestId = "TheTrashFief",
			Vars = set( "Completed", "Failed" ),
			__eval = function ()
				local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
				return quest.Completed or quest.Failed
			end,
		}),
	},
	NoteDefs = {
		LastNoteIdx = 12,
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "L9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "DumpPeace", "LegionResolutionTriggered", "SidedKnights", "SidedNobles" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.DumpPeace or quest.LegionResolutionTriggered or quest.SidedKnights or quest.SidedNobles
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.Completed
					end,
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.Given
					end,
				}),
			},
			Text = T(275245001992, --[[QuestsDef TheTrashFief Text]] "<em>Two factions</em> are quarrelling for control over <em><SectorName('L9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "L9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "DumpPeace" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.DumpPeace
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "Completed", "LegionResolutionTriggered" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon or quest.Completed or quest.LegionResolutionTriggered
					end,
				}),
			},
			Idx = 7,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "DumpPacified",
					QuestId = "TheTrashFief",
				}),
			},
			Text = T(714149373437, --[[QuestsDef TheTrashFief Text]] "<em><DumpPacified></em> combatants at <em><SectorName('L9')></em> convinced to drop the conflict"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "L9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "SidedKnights" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon and quest.SidedKnights
					end,
				}),
			},
			Idx = 2,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "SidedKnights" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.SidedKnights
					end,
				}),
			},
			Text = T(487072100115, --[[QuestsDef TheTrashFief Text]] "Sided with the <em>Knights</em>: the Nobles must be defeated at <em><SectorName('L9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "L9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "SidedNobles" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon and quest.SidedNobles
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.Completed
					end,
				}),
			},
			Idx = 3,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "SidedNobles" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.SidedNobles
					end,
				}),
			},
			Text = T(545018279171, --[[QuestsDef TheTrashFief Text]] "Sided with the <em>Nobles</em>: the Knights must be defeated at <em><SectorName('L9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "DumpPeace" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon or quest.DumpPeace
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "Completed", "Failed" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.Completed or quest.Failed
					end,
				}),
			},
			Idx = 4,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "DumpItsadiJudgement", "Given" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.DumpItsadiJudgement and quest.Given
					end,
				}),
			},
			Text = T(332966212632, --[[QuestsDef TheTrashFief Text]] "<em>Itsadi</em> disapproves of the conflict between the Baronne and Dirty Henri"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "DumpPeace" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.DumpPeace
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "LegionResolutionTriggered" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon or quest.LegionResolutionTriggered
					end,
				}),
			},
			Idx = 6,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "DumpPeace" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.DumpPeace
					end,
				}),
			},
			Text = T(830777761795, --[[QuestsDef TheTrashFief Text]] "<em>Outcome:</em> Convinced the Knights and Nobles to <em>drop the conflict</em> over <em><SectorName('L9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "LegionResolutionTriggered" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.LegionResolutionTriggered
					end,
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "LegionResolutionTriggered" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.LegionResolutionTriggered
					end,
				}),
			},
			Text = T(360237058772, --[[QuestsDef TheTrashFief Text]] "<em>Outcome:</em> The <em>Legion</em> resolved the conflict between the Nobles and the Knights in their own way"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "SidedKnights" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon and quest.SidedKnights
					end,
				}),
			},
			Idx = 9,
			ShowConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TheTrashFief",
							Vars = set( "CombatWon", "SidedKnights" ),
							__eval = function ()
								local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
								return quest.CombatWon and quest.SidedKnights
							end,
						}),
					},
				}),
			},
			Text = T(528593826738, --[[QuestsDef TheTrashFief Text]] "<em>Outcome:</em> The <em>Junkyard Knights</em> will protect <em><SectorName('L9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TheTrashFief",
							Vars = set( "CombatWon", "SidedNobles" ),
							__eval = function ()
								local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
								return quest.CombatWon and quest.SidedNobles
							end,
						}),
					},
				}),
			},
			Idx = 12,
			ShowConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TheTrashFief",
							Vars = set( "CombatWon", "SidedNobles" ),
							__eval = function ()
								local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
								return quest.CombatWon and quest.SidedNobles
							end,
						}),
					},
				}),
			},
			Text = T(747425867159, --[[QuestsDef TheTrashFief Text]] "<em>Outcome:</em> The <em>Junkyard Nobles</em> granted a concession for the <em>Junk Fields</em> at <em><SectorName('L9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "L9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "SidedNobles" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon and quest.SidedNobles
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Baronne",
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "CombatWon", "SidedNobles" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.CombatWon and quest.SidedNobles
					end,
				}),
			},
			Text = T(738138677566, --[[QuestsDef TheTrashFief Text]] "<em>Operation</em>: <em>Harvest Junk</em> is available at <em><SectorName('L9')></em>"),
		}),
	},
	QuestGroup = "Port Cacao",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L9",
					},
				}),
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TheTrashFief",
							Vars = set( "CombatPlayerTriggered" ),
							__eval = function ()
								local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
								return quest.CombatPlayerTriggered
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "_GroupsAttacked",
							Vars = set( "Knights", "Nobles" ),
							__eval = function ()
								local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
								return quest.Knights or quest.Nobles
							end,
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('CheckOR', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "TheTrashFief",
									Vars = set( "SidedNobles" ),
									__eval = function ()
										local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
										return quest.SidedNobles
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "_GroupsAttacked",
									Vars = set( "Knights" ),
									__eval = function ()
										local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
										return quest.Knights
									end,
								}),
							},
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "SidedNobles",
							QuestId = "TheTrashFief",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy2",
							TargetUnit = "Knights",
						}),
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "Nobles",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "Knights",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "Nobles",
						}),
					},
					'EffectsElse', {
						PlaceObj('QuestSetVariableBool', {
							Prop = "SidedKnights",
							QuestId = "TheTrashFief",
						}),
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "Knights",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "Nobles",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "Knights",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "Nobles",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_StartFight",
			QuestId = "TheTrashFief",
			requiredSectors = {
				"L9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L9",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "TheTrashFief",
					Vars = set( "SidedKnights", "SidedNobles" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.SidedKnights or quest.SidedNobles
					end,
				}),
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('GroupIsDead', {
							Group = "Knights",
						}),
						PlaceObj('GroupIsDead', {
							Group = "Nobles",
						}),
					},
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "CombatWon",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "L9",
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Medium",
					logImportant = true,
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TheTrashFief",
							Vars = set( "SidedKnights" ),
							__eval = function ()
								local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
								return quest.SidedKnights
							end,
						}),
					},
					'Effects', {
						PlaceObj('PlayBanterEffect', {
							Banters = {
								"Dump_BattleWon_Henri",
							},
							banterSequentialWaitFor = "BanterLineDone",
							searchInMap = true,
							searchInMarker = false,
						}),
						PlaceObj('SetSectorAutoResolveDefenderBonus', {
							autoResolveDefenderBonus = 1000,
							sector_id = "L9",
						}),
						PlaceObj('SectorTrainMilitia', {
							sector_id = "L9",
						}),
						PlaceObj('UnitGrantItem', {
							Amount = 2,
							ItemId = "MoneyBag",
						}),
					},
					'EffectsElse', {
						PlaceObj('PlayBanterEffect', {
							Banters = {
								"Dump_BattleWon_Baronne",
							},
							banterSequentialWaitFor = "BanterLineDone",
							searchInMap = true,
							searchInMarker = false,
						}),
						PlaceObj('SectorEnableCustomOperation', {
							DisplayLog = true,
							LootTableId = "JunkHarvest_All",
							operation = "HarvestJunk",
							sector_id = "L9",
						}),
						PlaceObj('UnitGrantItem', {
							LootTableId = "JunkHarvest_All",
						}),
						PlaceObj('UnitGrantItem', {
							Amount = 100,
							ItemId = "Parts",
						}),
						PlaceObj('UnitGrantItem', {
							Amount = 2,
							ItemId = "MoneyBag",
						}),
						PlaceObj('SectorSetRAndROperation', {
							sector_id = "L9",
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "TheTrashFief",
				}),
			},
			Once = true,
			ParamId = "TCE_ResolveFight",
			QuestId = "TheTrashFief",
			requiredSectors = {
				"L9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L9",
					},
				}),
				PlaceObj('GroupIsDead', {
					Group = "Knights",
				}),
				PlaceObj('GroupIsDead', {
					Group = "Nobles",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('SectorRemoveCustomOperation', {
					operation = "HarvestJunk",
					sector_id = "L9",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "L9",
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Medium",
					logImportant = true,
				}),
			},
			Once = true,
			ParamId = "TCE_AllKilled",
			QuestId = "TheTrashFief",
			requiredSectors = {
				"L9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 7,
					Prop = "DumpPacified",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set({
	CombatWon = false,
	Failed = false,
	LegionResolutionTriggered = false,
	SidedKnights = false,
	SidedNobles = false,
}),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return not quest.CombatWon and not quest.Failed and not quest.LegionResolutionTriggered and not quest.SidedKnights and not quest.SidedNobles
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "DumpPeace",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Dump_Peace",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Medium",
					logImportant = true,
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 15,
					City = "PortDiancie",
					SpecialConversationMessage = T(861030075965, --[[QuestsDef TheTrashFief SpecialConversationMessage]] "established peace at the <em>Dump</em>"),
				}),
				PlaceObj('ApplyGuiltyOrRighteous', {}),
				PlaceObj('UnitGrantItem', {
					LootTableId = "JunkHarvest_All",
				}),
				PlaceObj('UnitGrantItem', {
					Amount = 2,
					ItemId = "MoneyBag",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "L9",
				}),
				PlaceObj('SectorSetRAndROperation', {
					sector_id = "L9",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('MusicSetTrack', {
					Playlist = "Scripted",
					Track = "Music/Thula Sizwe",
				}),
			},
			Once = true,
			ParamId = "TCE_PacifyDump",
			QuestId = "TheTrashFief",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set({
	Completed = false,
	SecondVisit = true,
}),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return not quest.Completed and quest.SecondVisit
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "04_Betrayal",
					Vars = set( "WorldFlipDone" ),
					__eval = function ()
						local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
						return quest.WorldFlipDone
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L9",
					},
				}),
			},
			Effects = {
				PlaceObj('UnitDie', {
					TargetGroup = "Baronne",
				}),
				PlaceObj('UnitDie', {
					TargetGroup = "DirtyHenri",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "LegionResolutionTriggered",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('SectorRemoveCustomOperation', {
					operation = "HarvestJunk",
					sector_id = "L9",
				}),
				PlaceObj('SectorSetRepairShopOperation', {
					enable = false,
					sector_id = "L9",
				}),
				PlaceObj('SectorSetRAndROperation', {
					enable = false,
					sector_id = "L9",
				}),
			},
			Once = true,
			ParamId = "TCE_LegionResolution",
			QuestId = "TheTrashFief",
			requiredSectors = {
				"L9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L9",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set( "LegionResolutionTriggered" ),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return quest.LegionResolutionTriggered
					end,
				}),
				PlaceObj('GroupIsDead', {
					Group = "LegionResolution_AllLegionEnemies",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTrashFief",
					Vars = set({
	Completed = false,
}),
					__eval = function ()
						local quest = gv_Quests['TheTrashFief'] or QuestGetState('TheTrashFief')
						return not quest.Completed
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "TheTrashFief",
				}),
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "L9",
				}),
			},
			Once = true,
			ParamId = "TCE_LegionResolution_End",
			QuestId = "TheTrashFief",
			requiredSectors = {
				"L9",
			},
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "SidedKnights",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SidedNobles",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CombatPlayerTriggered",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CombatWon",
		}),
		PlaceObj('QuestVarBool', {
			Name = "DumpPeace",
		}),
		PlaceObj('QuestVarBool', {
			Name = "FirstVisit",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SecondVisit",
		}),
		PlaceObj('QuestVarBool', {
			Name = "ThirdVisit",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LegionResolutionTriggered",
		}),
		PlaceObj('QuestVarNum', {
			Name = "VisitCooldown",
			Value = 24,
		}),
		PlaceObj('QuestVarNum', {
			Name = "DumpPacified",
		}),
		PlaceObj('QuestVarBool', {
			Name = "DumpItsadiJudgement",
		}),
		PlaceObj('QuestVarBool', {
			Name = "DumpFlowerWatered",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_StartFight",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ResolveFight",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_AllKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PacifyDump",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LegionResolution",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LegionResolution_End",
		}),
	},
	group = "PortCacao",
	id = "TheTrashFief",
})

