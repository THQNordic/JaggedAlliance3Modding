-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	DisplayName = T(844692734170, --[[QuestsDef PantagruelLostAndFound DisplayName]] "M.E.R.C.: Lost and Found"),
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	NoteDefs = {
		LastNoteIdx = 5,
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "D5",
				}),
				PlaceObj('QuestBadgePlacement', {
					Sector = "D6",
				}),
				PlaceObj('QuestBadgePlacement', {
					Sector = "D7",
				}),
				PlaceObj('QuestBadgePlacement', {
					Sector = "E7",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set( "SpawnThugs" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.SpawnThugs
					end,
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Text = T(747391838490, --[[QuestsDef PantagruelLostAndFound Text]] "<em>M.E.R.C.</em> left behind some of their <em>equipment</em> in Pantagruel"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Condition = "==",
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 2,
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Idx = 3,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Condition = "==",
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Text = T(111359024932, --[[QuestsDef PantagruelLostAndFound Text]] "Found a <em>piece of equipment</em> abandoned by M.E.R.C."),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 2,
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Idx = 4,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 2,
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Text = T(757645590621, --[[QuestsDef PantagruelLostAndFound Text]] "Found <em><ItemsFound> pieces of equipment</em> abandoned by M.E.R.C."),
		}),
		PlaceObj('QuestNote', {
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Completed
					end,
				}),
			},
			Idx = 2,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set( "SpawnThugs" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.SpawnThugs
					end,
				}),
			},
			Text = T(165391096772, --[[QuestsDef PantagruelLostAndFound Text]] "Some bandits are trying to get their hands on M.E.R.C.'s abandoned <em>equipment</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Completed
					end,
				}),
			},
			Idx = 5,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Completed
					end,
				}),
			},
			Text = T(809111345552, --[[QuestsDef PantagruelLostAndFound Text]] "<em>Outcome:</em> Found the <em>equipment</em> left by M.E.R.C."),
		}),
	},
	QuestGroup = "Pantagruel",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set({
	Backpack_SavannaD5 = true,
	Completed = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Backpack_SavannaD5 and not quest.Completed
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Given",
					QuestId = "RescueBiff",
				}),
				PlaceObj('HideQuestBadge', {
					LogLine = 1,
					Quest = "PantagruelLostAndFound",
				}),
			},
			Once = true,
			ParamId = "TCE_FindEquipment_D5",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set({
	Backpack_Outskirts = true,
	Completed = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Backpack_Outskirts and not quest.Completed
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Given",
					QuestId = "RescueBiff",
				}),
				PlaceObj('HideQuestBadge', {
					BadgeIdx = 2,
					LogLine = 1,
					Quest = "PantagruelLostAndFound",
				}),
			},
			Once = true,
			ParamId = "TCE_FindEquipment_D6",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set({
	Backpack_Slums = true,
	Completed = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Backpack_Slums and not quest.Completed
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Given",
					QuestId = "RescueBiff",
				}),
				PlaceObj('HideQuestBadge', {
					BadgeIdx = 3,
					LogLine = 1,
					Quest = "PantagruelLostAndFound",
				}),
			},
			Once = true,
			ParamId = "TCE_FindEquipment_D7",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set({
	Backpack_SavannaE7 = true,
	Completed = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.Backpack_SavannaE7 and not quest.Completed
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Given",
					QuestId = "RescueBiff",
				}),
				PlaceObj('HideQuestBadge', {
					BadgeIdx = 4,
					LogLine = 1,
					Quest = "PantagruelLostAndFound",
				}),
			},
			Once = true,
			ParamId = "TCE_FindEquipment_E7",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableNum', {
					Amount = 4,
					Prop = "ItemsFound",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "SpawnThugs",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Once = true,
			ParamId = "TCE_SpawnThugs",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelLostAndFound",
					Vars = set( "MoveThugs" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelLostAndFound'] or QuestGetState('PantagruelLostAndFound')
						return quest.MoveThugs
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableNum', {
							Amount = 1,
							Condition = "==",
							Prop = "MapRandom",
							QuestId = "PantagruelLostAndFound",
						}),
					},
					'Effects', {
						PlaceObj('GroupSetBehaviorRoam', {
							MarkerGroup = "Lost_and_Found_1",
							Running = true,
							TargetUnit = "LostAndFound_Thugs",
							UseWeapons = true,
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('QuestIsVariableNum', {
									Amount = 2,
									Condition = "==",
									Prop = "MapRandom",
									QuestId = "PantagruelLostAndFound",
								}),
							},
							'Effects', {
								PlaceObj('GroupSetBehaviorPatrol', {
									MarkerGroup = "Lost_and_Found_2",
									Running = true,
									TargetUnit = "LostAndFound_Thugs",
									UseWeapons = true,
								}),
							},
							'EffectsElse', {
								PlaceObj('GroupSetBehaviorRoam', {
									MarkerGroup = "Lost_and_Found_3",
									Running = true,
									TargetUnit = "LostAndFound_Thugs",
									UseWeapons = true,
								}),
							},
						}),
					},
				}),
			},
			ParamId = "TCE_MoveThugs",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 10,
					SecondTargetUnit = "any merc",
					TargetUnit = "ThugBoss",
				}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Pantagruel_LostAndFound_SpawnThugs",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_PlayBanter",
			QuestId = "PantagruelLostAndFound",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "LostAndFound_Thugs",
				}),
			},
			Effects = {
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "Pantagruel",
					SpecialConversationMessage = T(354729913151, --[[QuestsDef PantagruelLostAndFound SpecialConversationMessage]] "killed the looters"),
				}),
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "PantagruelLostAndFound",
				}),
			},
			Once = true,
			ParamId = "TCE_ThugsDead",
			QuestId = "PantagruelLostAndFound",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarNum', {
			Name = "MapRandom",
			RandomRangeMax = 3,
			Value = 1,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Backpack_SavannaD5",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Backpack_SavannaE7",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Backpack_Slums",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Backpack_Outskirts",
		}),
		PlaceObj('QuestVarNum', {
			Name = "ItemsFound",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SpawnThugs",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FindEquipment_D5",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FindEquipment_D6",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FindEquipment_D7",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FindEquipment_E7",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_SpawnThugs",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PlayBanter",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ThugsDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MoveThugs",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MoveThugs",
		}),
	},
	group = "Pantagruel",
	id = "PantagruelLostAndFound",
})

