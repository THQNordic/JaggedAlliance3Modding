-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Boyan",
	Chapter = "Act1",
	DevNotes = "Completed when Larry is recruited or sent home, Failed when Larry is dead.\nTO DO: Needs a Note that he has completed the activity which makes him Clean.",
	DisplayName = T(464933461970, --[[QuestsDef Larry DisplayName]] "M.E.R.C.: Finding Larry"),
	KillTCEsConditions = {
		PlaceObj('QuestIsVariableBool', {
			Condition = "or",
			QuestId = "Larry",
			Vars = set( "Completed", "Failed" ),
			__eval = function ()
				local quest = gv_Quests['Larry'] or QuestGetState('Larry')
				return quest.Completed or quest.Failed
			end,
		}),
	},
	NoteDefs = {
		LastNoteIdx = 14,
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "F7",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Larry",
					Vars = set( "Art", "Camp", "Given", "Lead_LarryLocation", "TCE_LarryDead" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.Art or quest.Camp or quest.Given or quest.Lead_LarryLocation or quest.TCE_LarryDead
					end,
				}),
			},
			Idx = 4,
			Scouting = true,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set({
	Art = false,
	Camp = false,
	Given = false,
	Lead_LarryLocation = false,
	TCE_LarryDead = false,
}),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return not quest.Art and not quest.Camp and not quest.Given and not quest.Lead_LarryLocation and not quest.TCE_LarryDead
					end,
				}),
			},
			Text = T(895984647808, --[[QuestsDef Larry Text]] "<em>Larry</em> from M.E.R.C. is in <em><SectorName('F7')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "LarryNPC",
					Sector = "F7",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Larry",
					Vars = set( "Failed", "LarryGoHome", "LarryRecruited" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.Failed or quest.LarryGoHome or quest.LarryRecruited
					end,
				}),
			},
			Idx = 2,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Larry",
					Vars = set( "Art", "Camp", "Lead_LarryLocation" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.Art or quest.Camp or quest.Lead_LarryLocation
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set({
	MetavironGiven = false,
}),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return not quest.MetavironGiven
					end,
				}),
			},
			Text = T(855271225964, --[[QuestsDef Larry Text]] "<em>Larry</em> from M.E.R.C. is in <em><SectorName('F7')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "LarryDrugged" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryDrugged
					end,
				}),
			},
			Idx = 10,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "LarryDrugged" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryDrugged
					end,
				}),
			},
			Text = T(749574070033, --[[QuestsDef Larry Text]] "<em>Larry</em> took drugs during <em>Carnival</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "LarryDiamondRed" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryDiamondRed
					end,
				}),
			},
			Idx = 13,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "LarryDiamondRed" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryDiamondRed
					end,
				}),
			},
			Text = T(563078069728, --[[QuestsDef Larry Text]] "<em>Larry</em> was captured by the Legion at <em><SectorName('A2')></em> and they interrogated him with more drugs"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "LarryNPC",
					Sector = "F7",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Larry",
					Vars = set( "Failed", "MetavironGiven" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.Failed or quest.MetavironGiven
					end,
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "MagicPill" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.MagicPill
					end,
				}),
			},
			Text = T(120950008870, --[[QuestsDef Larry Text]] "<em>Larry</em> needs <em>Metaviron</em> to bring back his memory"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "MemoryRestored" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.MemoryRestored
					end,
				}),
			},
			Idx = 5,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = set( "MetavironGiven" ),
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.MetavironGiven
					end,
				}),
			},
			Text = T(990015505060, --[[QuestsDef Larry Text]] "<em>Larry</em> has remembered who he is, but he still has the monkey on his back"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('GroupIsDead', {
					Group = "LarryNPC",
				}),
			},
			Idx = 7,
			ShowConditions = {
				PlaceObj('GroupIsDead', {
					Group = "LarryNPC",
				}),
			},
			Text = T(675514157066, --[[QuestsDef Larry Text]] "<em>Outcome:</em> <em>Larry</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "H12",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = {
						LarryRecruited = true,
					},
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryRecruited
					end,
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = {
						LarryRecruited = true,
					},
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryRecruited
					end,
				}),
			},
			Text = T(251183061940, --[[QuestsDef Larry Text]] "<em>Outcome:</em> Recruited <em>Larry</em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = {
						LarryGoHome = true,
					},
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryGoHome
					end,
				}),
			},
			Idx = 9,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = {
						LarryGoHome = true,
					},
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryGoHome
					end,
				}),
			},
			Text = T(262720989912, --[[QuestsDef Larry Text]] "<em>Outcome:</em> <em>Larry</em> went home"),
		}),
	},
	QuestGroup = "Other",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = {
						LarryRecruited = true,
					},
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryRecruited
					end,
				}),
			},
			Effects = {
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Medium",
					logImportant = true,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "Larry",
				}),
			},
			Once = true,
			ParamId = "TCE_LarryRecruited",
			QuestId = "Larry",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Larry",
					Vars = {
						LarryGoHome = true,
					},
					__eval = function ()
						local quest = gv_Quests['Larry'] or QuestGetState('Larry')
						return quest.LarryGoHome
					end,
				}),
			},
			Effects = {
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Large",
					logImportant = true,
				}),
				PlaceObj('UnitGrantItem', {
					LootTableId = "LarryLeave",
				}),
				PlaceObj('UnitSetHireStatus', {
					TargetUnit = "Larry",
				}),
				PlaceObj('GroupSetBehaviorExit', {
					TargetUnit = "LarryNPC",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "Larry",
				}),
			},
			Once = true,
			ParamId = "TCE_LarryGoHome",
			QuestId = "Larry",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "LarryNPC",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "Larry",
				}),
			},
			Once = true,
			ParamId = "TCE_LarryDead",
			QuestId = "Larry",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Lead_LarryLocation",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Camp",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Art",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Liked",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LarryName",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LarryDrugged",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LarryPantagruel",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LarryDiamondRed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Conquered_DiamondRed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MagicPill",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MetavironGiven",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MemoryRestored",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LarryRecruited",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LarryGoHome",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SanatoriumTreatment",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LarryDead",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LarryRecruited",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LarryGoHome",
		}),
		PlaceObj('QuestVarBool', {
			Name = "TalkedToLarry",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
	},
	group = "Global",
	id = "Larry",
})

