-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Vlad",
	DisplayName = T(128287745811, --[[QuestsDef ReduceSavannaCampStrength DisplayName]] "Camp Savane"),
	Hidden = true,
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	QuestGroup = "Savanah",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "G8",
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "AbandonedMansion",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('CompleteGuardpostObjective', {
					GuardpostObjective = "AbandonedMansion",
				}),
			},
			Once = true,
			ParamId = "TCE_MansionControlGet",
			QuestId = "ReduceSavannaCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceSavannaCampStrength",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['ReduceSavannaCampStrength'] or QuestGetState('ReduceSavannaCampStrength')
						return quest.Given
					end,
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "BaitOutWithActivity",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('SectorEnableCustomOperation', {
					EffectsOnSuccess = {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "BaitOutWithActivity",
						}),
						PlaceObj('TriggerSquadAttack', {
							Squad = "SavannaCampDefendersLuredOut",
							custom_quest_id = "LuredOutSquad",
							effect_target_sector_ids = {
								"E6",
							},
							source_sector_id = "F7",
						}),
						PlaceObj('QuestSetVariableText', {
							Prop = "LureActivitySectorId",
							QuestId = "ReduceSavannaCampStrength",
							Text = "E6",
						}),
					},
					operation = "BaitOutSavannaCamp",
					sector_id = "E6",
				}),
				PlaceObj('SectorEnableCustomOperation', {
					EffectsOnSuccess = {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "BaitOutWithActivity",
						}),
						PlaceObj('TriggerSquadAttack', {
							Squad = "SavannaCampDefendersLuredOut",
							custom_quest_id = "LuredOutSquad",
							effect_target_sector_ids = {
								"E7",
							},
							source_sector_id = "F7",
						}),
						PlaceObj('QuestSetVariableText', {
							Prop = "LureActivitySectorId",
							QuestId = "ReduceSavannaCampStrength",
							Text = "E7",
						}),
					},
					operation = "BaitOutSavannaCamp",
					sector_id = "E7",
				}),
				PlaceObj('SectorEnableCustomOperation', {
					EffectsOnSuccess = {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "BaitOutWithActivity",
						}),
						PlaceObj('TriggerSquadAttack', {
							Squad = "SavannaCampDefendersLuredOut",
							custom_quest_id = "LuredOutSquad",
							effect_target_sector_ids = {
								"E8",
							},
							source_sector_id = "F7",
						}),
						PlaceObj('QuestSetVariableText', {
							Prop = "LureActivitySectorId",
							QuestId = "ReduceSavannaCampStrength",
							Text = "E8",
						}),
					},
					operation = "BaitOutSavannaCamp",
					sector_id = "E8",
				}),
				PlaceObj('SectorEnableCustomOperation', {
					EffectsOnSuccess = {
						PlaceObj('CompleteGuardpostObjective', {
							GuardpostObjective = "BaitOutWithActivity",
						}),
						PlaceObj('TriggerSquadAttack', {
							Squad = "SavannaCampDefendersLuredOut",
							custom_quest_id = "LuredOutSquad",
							effect_target_sector_ids = {
								"F8",
							},
							source_sector_id = "F7",
						}),
						PlaceObj('QuestSetVariableText', {
							Prop = "LureActivitySectorId",
							QuestId = "ReduceSavannaCampStrength",
							Text = "F8",
						}),
					},
					operation = "BaitOutSavannaCamp",
					sector_id = "F8",
				}),
			},
			Once = true,
			ParamId = "TCE_InitLureActivity",
			QuestId = "ReduceSavannaCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "ReduceSavannaCampStrength",
							Vars = set( "LureActivityDone" ),
							__eval = function ()
								local quest = gv_Quests['ReduceSavannaCampStrength'] or QuestGetState('ReduceSavannaCampStrength')
								return quest.LureActivityDone
							end,
						}),
						PlaceObj('GuardpostObjectiveDone', {
							GuardpostObjective = "BaitOutWithActivity",
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('SectorRemoveCustomOperation', {
					operation = "BaitOutSavannaCamp",
					sector_id = "E6",
				}),
				PlaceObj('SectorRemoveCustomOperation', {
					operation = "BaitOutSavannaCamp",
					sector_id = "E7",
				}),
				PlaceObj('SectorRemoveCustomOperation', {
					operation = "BaitOutSavannaCamp",
					sector_id = "E8",
				}),
				PlaceObj('SectorRemoveCustomOperation', {
					operation = "BaitOutSavannaCamp",
					sector_id = "F8",
				}),
			},
			ParamId = "TCE_DoneLureActivity",
			QuestId = "ReduceSavannaCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "WaterWell",
					Negate = true,
				}),
				PlaceObj('IsTimeOfDay', {
					TimeOfDay = "Sunset",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "WaterWellSquadPresent",
					QuestId = "ReduceSavannaCampStrength",
					Toggle = true,
				}),
			},
			ParamId = "TCE_WaterWellSpawn",
			QuestId = "ReduceSavannaCampStrength",
			Trigger = "change",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "ReduceSavannaCampStrength",
					Vars = set( "WaterWellSquadPresent" ),
					__eval = function ()
						local quest = gv_Quests['ReduceSavannaCampStrength'] or QuestGetState('ReduceSavannaCampStrength')
						return quest.WaterWellSquadPresent
					end,
				}),
				PlaceObj('PlayerSquadPresentInSectors', {
					Sector = "G6",
				}),
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"SavannaCamp_GuardpostObjective_RadioWaterWell",
					},
					Negate = true,
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "WaterWell",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('ShowGuardpostObjective', {
					GuardpostObjective = "WaterWell",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavannaCamp_GuardpostObjective_RadioWaterWell",
					},
					banterSequentialWaitFor = "BanterStart",
				}),
				PlaceObj('SectorEnterConflict', {
					descr_id = "G6_WaterWell",
					no_exploration_resolve = true,
					sector_id = "G6",
				}),
			},
			Once = true,
			ParamId = "TCE_WaterWellRadioCall",
			QuestId = "ReduceSavannaCampStrength",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsAroundOtherUnit', {
					SecondTargetUnit = "LegionWaterWell",
					TargetUnit = "any merc",
				}),
				PlaceObj('SatelliteGameplayRunning', {
					Negate = true,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"G6",
					},
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "WaterWell",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('GroupAddStatusEffect', {
					Status = "Distracted",
					TargetUnit = "LegionWaterWell",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavannaCamp_GuardpostObjective_WaterWell_Legion",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_LegionDialog",
			QuestId = "ReduceSavannaCampStrength",
			requiredSectors = {
				"G6",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"G6",
					},
				}),
				PlaceObj('GroupIsDead', {
					Group = "LegionWaterWell",
				}),
				PlaceObj('GuardpostObjectiveDone', {
					GuardpostObjective = "WaterWell",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "G6",
				}),
				PlaceObj('CompleteGuardpostObjective', {
					GuardpostObjective = "WaterWell",
				}),
			},
			Once = true,
			ParamId = "TCE_WaterWellSoldiers",
			QuestId = "ReduceSavannaCampStrength",
			requiredSectors = {
				"G6",
			},
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MansionControlGet",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MansionEverControlled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_WaterWellSoldiers",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_InitLureActivity",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_DoneLureActivity",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LureActivityDone",
		}),
		PlaceObj('QuestVarNum', {
			Name = "LuredOutSquad",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_WaterWellSpawn",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_WaterWellRadioCall",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LegionDialog",
		}),
		PlaceObj('QuestVarBool', {
			Name = "WaterWellSquadPresent",
		}),
		PlaceObj('QuestVarText', {
			Name = "LureActivitySectorId",
		}),
	},
	group = "Outposts",
	id = "ReduceSavannaCampStrength",
})

