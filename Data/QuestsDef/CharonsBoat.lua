-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	DisplayName = T(973894661808, --[[QuestsDef CharonsBoat DisplayName]] "Charon's Boat"),
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	NoteDefs = {
		LastNoteIdx = 13,
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_DeadBodies" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_DeadBodies
					end,
				}),
			},
			Idx = 2,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_DeadBodies" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_DeadBodies
					end,
				}),
			},
			Text = T(405985338145, --[[QuestsDef CharonsBoat Text]] "Clue: A <em>humanitarian ship</em> loaded with dead bodies has run aground"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_Infected" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_Infected
					end,
				}),
			},
			Idx = 3,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_Infected" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_Infected
					end,
				}),
			},
			Text = T(339174589312, --[[QuestsDef CharonsBoat Text]] "Clue: Some of the dead bodies were <em>not quite dead</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_Crew" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_Crew
					end,
				}),
			},
			Idx = 4,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_Crew" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_Crew
					end,
				}),
			},
			Text = T(990189665297, --[[QuestsDef CharonsBoat Text]] "Clue: There seem to be no survivors of the <em>ship crew</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_Mound" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_Mound
					end,
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_Mound" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_Mound
					end,
				}),
			},
			Text = T(857708899763, --[[QuestsDef CharonsBoat Text]] "Clue: Someone tried to <em>bury</em> the dead from the shipwreck"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "D20",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_OperationCompleted
					end,
				}),
			},
			Idx = 5,
			ShowConditions = {
				PlaceObj('QuestIsVariableNum', {
					AgainstVar = true,
					Prop = "ShipwreckClues",
					Prop2 = "ShipwreckCluesRequired",
					QuestId = "CharonsBoat",
					QuestId2 = "CharonsBoat",
				}),
			},
			Text = T(857088575465, --[[QuestsDef CharonsBoat Text]] "<em>Operation</em>: Someone should <em>bury the dead</em> at the <em><SectorName('D20')></em> before the disease spreads"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "D20",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_DeadBodies", "Shipwreck_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_DeadBodies or quest.Shipwreck_OperationCompleted
					end,
				}),
			},
			Idx = 6,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_Floaters" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_Floaters
					end,
				}),
			},
			Text = T(833497122167, --[[QuestsDef CharonsBoat Text]] "There are lots of <em>dead bodies</em> floating from somewhere upstream"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "D19",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_Touched" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_Touched
					end,
				}),
			},
			Idx = 7,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_OperationCompleted
					end,
				}),
			},
			Text = T(369102835117, --[[QuestsDef CharonsBoat Text]] "Some of the <em>corpses</em> have floated downstream to the <em><SectorName('D19')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "D19",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_OperationCompleted
					end,
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_Touched" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_Touched
					end,
				}),
			},
			Text = T(101885298452, --[[QuestsDef CharonsBoat Text]] "<em>Operation</em>: There is a <em>mysterious boat</em> waiting for the bodies of the dead at the <em><SectorName('D19')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "D19",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_FloatersDead" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_FloatersDead
					end,
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_OperationCompleted
					end,
				}),
			},
			Text = T(936513753163, --[[QuestsDef CharonsBoat Text]] "Some of the dead have to be <em>put to rest</em>"),
		}),
		PlaceObj('QuestNote', {
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Completed
					end,
				}),
			},
			Idx = 9,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_FloatersDead", "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_FloatersDead and quest.Boat_OperationCompleted
					end,
				}),
			},
			Text = T(234780234928, --[[QuestsDef CharonsBoat Text]] "One day, the <em>boat of the dead</em> will leave the <em><SectorName('D19')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_OperationCompleted
					end,
				}),
			},
			Idx = 12,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Shipwreck_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Shipwreck_OperationCompleted
					end,
				}),
			},
			Text = T(178256989717, --[[QuestsDef CharonsBoat Text]] "<em>Outcome</em>: The dead at the <em><SectorName('D20')></em> have been buried"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_OperationCompleted
					end,
				}),
			},
			Idx = 13,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_OperationCompleted
					end,
				}),
			},
			Text = T(184684888159, --[[QuestsDef CharonsBoat Text]] "<em>Outcome</em>: The <em>mysterious boat</em> was loaded with the bodies of the dead at the <em><SectorName('D19')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "CharonsReward",
					Sector = "D19",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Completed
					end,
				}),
			},
			Idx = 10,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Completed
					end,
				}),
			},
			Text = T(120426471244, --[[QuestsDef CharonsBoat Text]] "<em>Outcome:</em> The <em>boat of the dead</em> left these shores"),
		}),
	},
	QuestGroup = "Jungle",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableNum', {
					AgainstVar = true,
					Prop = "ShipwreckClues",
					Prop2 = "ShipwreckCluesRequired",
					QuestId = "CharonsBoat",
					QuestId2 = "CharonsBoat",
				}),
			},
			Effects = {
				PlaceObj('SectorEnableCustomOperation', {
					DisplayLog = true,
					EffectsOnSuccess = {
						PlaceObj('QuestSetVariableBool', {
							Prop = "Shipwreck_OperationCompleted",
							QuestId = "CharonsBoat",
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = 10,
							City = "IlleMorat",
							SpecialConversationMessage = T(919586274698, --[[QuestsDef CharonsBoat SpecialConversationMessage]] "buried the dead bodies from the shipwreck"),
						}),
						PlaceObj('GrantExperienceSector', {
							logImportant = true,
						}),
					},
					LootTableId = "Hermit_Meds",
					operation = "CursedForest_BuryInfected",
					sector_id = "D20",
				}),
			},
			Once = true,
			ParamId = "TCE_OperationBuryInfected",
			QuestId = "CharonsBoat",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_Touched" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_Touched
					end,
				}),
			},
			Effects = {
				PlaceObj('SectorEnableCustomOperation', {
					DisplayLog = true,
					EffectsOnSuccess = {
						PlaceObj('QuestSetVariableBool', {
							Prop = "Boat_OperationCompleted",
							QuestId = "CharonsBoat",
						}),
						PlaceObj('SectorEnterConflict', {
							sector_id = "D19",
							spawn_mode = "defend",
						}),
					},
					operation = "CursedForest_LoadBoat",
					sector_id = "D19",
				}),
			},
			Once = true,
			ParamId = "TCE_OperationLoadBoat",
			QuestId = "CharonsBoat",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_OperationCompleted
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D19",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupAlert', {
					TargetUnit = "Floaters",
				}),
			},
			Once = true,
			ParamId = "TCE_FloatersAttack",
			QuestId = "CharonsBoat",
			requiredSectors = {
				"D19",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "Floaters",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Boat_FloatersDead",
					QuestId = "CharonsBoat",
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 10,
					City = "IlleMorat",
					SpecialConversationMessage = T(946878667183, --[[QuestsDef CharonsBoat SpecialConversationMessage]] "loaded the mysterious boat of the dead"),
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Medium",
					logImportant = true,
				}),
				PlaceObj('QuestSetVariableTimer', {
					Prop = "BoatLeaveTimer",
					QuestId = "CharonsBoat",
					TimeAmount = 24,
					TimeAmountRangeMax = 48,
				}),
			},
			Once = true,
			ParamId = "TCE_FloatersKilled",
			QuestId = "CharonsBoat",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CharonsBoat",
					Vars = set( "Boat_OperationCompleted" ),
					__eval = function ()
						local quest = gv_Quests['CharonsBoat'] or QuestGetState('CharonsBoat')
						return quest.Boat_OperationCompleted
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Negate = true,
					Sectors = {
						"D19",
					},
				}),
				PlaceObj('QuestHasTimerPassed', {
					QuestId = "CharonsBoat",
					TimerVariable = "BoatLeaveTimer",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "CharonsBoat",
				}),
			},
			Once = true,
			ParamId = "TCE_BoatLeave",
			QuestId = "CharonsBoat",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Shipwreck_DeadBodies",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Shipwreck_Infected",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Shipwreck_Crew",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Shipwreck_Mound",
		}),
		PlaceObj('QuestVarNum', {
			Name = "ShipwreckClues",
		}),
		PlaceObj('QuestVarNum', {
			Name = "ShipwreckCluesRequired",
			Value = 4,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Shipwreck_OperationCompleted",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Boat_Floaters",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Boat_Touched",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Boat_OperationCompleted",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Boat_FloatersDead",
		}),
		PlaceObj('QuestVarNum', {
			Name = "BoatLeaveTimer",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_OperationBuryInfected",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_OperationLoadBoat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FloatersAttack",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FloatersKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BoatLeave",
		}),
	},
	group = "CursedForest",
	id = "CharonsBoat",
})

