-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Radomir",
	Chapter = "Act1",
	DevNotes = "The quest is Completed in case all sub-quests are completed.\nIt is Failed when the Betrayal happens (see 04_Betrayal).",
	DisplayName = T(948493644997, --[[QuestsDef RefugeeBlues DisplayName]] "The Refugee camp"),
	KillTCEsConditions = {
		PlaceObj('QuestIsVariableBool', {
			Condition = "or",
			QuestId = "RefugeeBlues",
			Vars = set( "Completed", "Failed" ),
			__eval = function ()
				local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
				return quest.Completed or quest.Failed
			end,
		}),
	},
	NoteDefs = {
		LastNoteIdx = 41,
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Shaman",
					Sector = "E9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.Given
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Shaman",
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "04_Betrayal",
							Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
							end,
						}),
					},
				}),
			},
			Idx = 24,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.Given
					end,
				}),
			},
			Text = T(519463790112, --[[QuestsDef RefugeeBlues Text]] "<em>Sangoma</em> at the <em><SectorName('E9')></em> is a famous faith healer"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Shaman",
					Sector = "E9",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Shaman",
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "04_Betrayal",
							Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "FaithHealing",
							Vars = set( "FamilyHealed" ),
							__eval = function ()
								local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
								return quest.FamilyHealed
							end,
						}),
					},
				}),
			},
			Idx = 17,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "AllowHelpActivity" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.AllowHelpActivity
					end,
				}),
			},
			Text = T(631233345121, --[[QuestsDef RefugeeBlues Text]] "<em>Sangoma</em> from the <em><SectorName('E9')></em> needs <em>Metaviron</em> to heal his family and protect his faith healer reputation"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Broker",
					Sector = "H9",
				}),
			},
			CompletionConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "TheTwelveChairs",
							Vars = set( "MetavironSold" ),
							__eval = function ()
								local quest = gv_Quests['TheTwelveChairs'] or QuestGetState('TheTwelveChairs')
								return quest.MetavironSold
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "FaithHealing",
							Vars = set( "FamilyHealed" ),
							__eval = function ()
								local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
								return quest.FamilyHealed
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Shaman",
						}),
					},
				}),
			},
			Idx = 41,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "Lead_Metaviron" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.Lead_Metaviron
					end,
				}),
			},
			Text = T(198470862493, --[[QuestsDef RefugeeBlues Text]] "There may be <em>Metaviron</em> at the <em><SectorName('H9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "FamilyHealed", "MetavironGiven" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.FamilyHealed and quest.MetavironGiven
					end,
				}),
			},
			Idx = 39,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "FamilyHealed", "MetavironGiven" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.FamilyHealed and quest.MetavironGiven
					end,
				}),
			},
			Text = T(892570874610, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Saved the family of <em>Sangoma</em> and preserved his faith healer reputation"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set({
	FamilyHealed = true,
	MetavironGiven = false,
}),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.FamilyHealed and not quest.MetavironGiven
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "MetavironGiven" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.MetavironGiven
					end,
				}),
			},
			Idx = 40,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set({
	FamilyHealed = true,
	MetavironGiven = false,
}),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.FamilyHealed and not quest.MetavironGiven
					end,
				}),
			},
			Text = T(137231537206, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Saved the family of <em>Sangoma</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Shaman",
					Sector = "E9",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Shaman",
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "04_Betrayal",
							Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "FaithHealing",
							Vars = set( "FamilyHealed" ),
							__eval = function ()
								local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
								return quest.FamilyHealed
							end,
						}),
					},
				}),
			},
			Idx = 29,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "AllowHelpActivity" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.AllowHelpActivity
					end,
				}),
			},
			Text = T(535093683619, --[[QuestsDef RefugeeBlues Text]] "<em>Operation</em>: A capable <em>Medic</em> could cure the family of <em>Sangoma</em> at the <em><SectorName('E9')></em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Shaman",
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
					},
				}),
			},
			Idx = 32,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FaithHealing",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['FaithHealing'] or QuestGetState('FaithHealing')
						return quest.Given
					end,
				}),
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Shaman",
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
					},
				}),
			},
			Text = T(946590929661, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Sangoma</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Pepe",
					Sector = "E9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteHacked" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteHacked
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "04_Betrayal",
					Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
					__eval = function ()
						local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
						return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
					end,
				}),
			},
			Idx = 4,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteQuest" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteQuest
					end,
				}),
			},
			Text = T(583930098973, --[[QuestsDef RefugeeBlues Text]] "<em>Pepe</em> from the <em><SectorName('E9')></em> asked for help with his <em>TV</em> woes"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Pepe",
					Sector = "E9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteHacked" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteHacked
					end,
				}),
			},
			Idx = 38,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteHacked" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteHacked
					end,
				}),
			},
			Text = T(940717124322, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Helped <em>Pepe</em> and greatly pleased the spirits at the <em><SectorName('E9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Pepe",
				}),
			},
			Idx = 31,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteQuest" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteQuest
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Pepe",
				}),
			},
			Text = T(491224882728, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Pepe</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Claudette",
					Sector = "D9",
				}),
			},
			CompletionConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Claudette",
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RefugeeBlues",
							Vars = set( "ClaudetteDead", "ClaudetteSaved", "ClaudetteTimerStart" ),
							__eval = function ()
								local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
								return quest.ClaudetteDead or quest.ClaudetteSaved or quest.ClaudetteTimerStart
							end,
						}),
					},
				}),
			},
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteLead" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteLead
					end,
				}),
			},
			Text = T(120416639360, --[[QuestsDef RefugeeBlues Text]] "<em>Claudette</em> was kidnapped by the Legion and taken to the <em><SectorName('D9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Claudette",
					Sector = "D9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteSaved" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteSaved
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Claudette",
				}),
			},
			Idx = 27,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteTimerStart" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteTimerStart
					end,
				}),
			},
			Text = T(677954583911, --[[QuestsDef RefugeeBlues Text]] "Time to help brave <em>Claudette</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Claudette",
					Sector = "E9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "AntoineAndClaudetteLeft", "ClaudetteDead" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.AntoineAndClaudetteLeft or quest.ClaudetteDead
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "_GroupsAttacked",
					Vars = set( "civ_Claudette_Killed" ),
					__eval = function ()
						local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
						return quest.civ_Claudette_Killed
					end,
				}),
			},
			Idx = 26,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteSaved" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteSaved
					end,
				}),
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"SavingClaudette_Crossroads_04_CombatDone",
					},
					WaitOver = true,
				}),
			},
			Text = T(500979164754, --[[QuestsDef RefugeeBlues Text]] "<em>Claudette</em> went back to her brother <em>Antoine</em> in the <em><SectorName('E9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteDead" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteDead
					end,
				}),
			},
			Idx = 30,
			ShowConditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"SavingClaudette_Antoine_00_approach",
						"SavingClaudette_Crossroads_01_Initial",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteDead" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteDead
					end,
				}),
			},
			Text = T(554616460300, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Claudette</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Antoine",
				}),
			},
			Idx = 33,
			ShowConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Antoine",
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "ClaudetteLead" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.ClaudetteLead
					end,
				}),
			},
			Text = T(355411060253, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Antoine</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "AntoineAndClaudetteLeft" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.AntoineAndClaudetteLeft
					end,
				}),
			},
			Idx = 28,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "AntoineAndClaudetteLeft" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.AntoineAndClaudetteLeft
					end,
				}),
			},
			Text = T(374767453335, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Antoine</em> and <em>Claudette</em> left the Refugee Camp for good"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Karen",
					Sector = "E9",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "04_Betrayal",
							Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RefugeeBlues",
							Vars = set( "KarenKilled", "KarenPassportGiven" ),
							__eval = function ()
								local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
								return quest.KarenKilled or quest.KarenPassportGiven
							end,
						}),
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Karen",
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "_GroupsAttacked",
							Vars = set( "civ_Karen_Killed" ),
							__eval = function ()
								local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
								return quest.civ_Karen_Killed
							end,
						}),
					},
				}),
			},
			Idx = 6,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenQuestGiven" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenQuestGiven
					end,
				}),
			},
			Text = T(415536177395, --[[QuestsDef RefugeeBlues Text]] "<em>Karen</em> in the <em><SectorName('E9')></em> insists that her <em>passport</em> is found and returned immediately, or she will call the manager!"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Broker",
					Sector = "H9",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "04_Betrayal",
							Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RefugeeBlues",
							Vars = set( "KarenKilled", "KarenPassportFound", "KarenPassportGiven" ),
							__eval = function ()
								local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
								return quest.KarenKilled or quest.KarenPassportFound or quest.KarenPassportGiven
							end,
						}),
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Karen",
						}),
					},
				}),
			},
			Idx = 7,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenQuestGiven" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenQuestGiven
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "TheTwelveChairs",
					Vars = set( "KnowAboutBroker" ),
					__eval = function ()
						local quest = gv_Quests['TheTwelveChairs'] or QuestGetState('TheTwelveChairs')
						return quest.KnowAboutBroker
					end,
				}),
			},
			Text = T(606813149749, --[[QuestsDef RefugeeBlues Text]] "<em>Lalee</em> in <em><SectorName('H9')></em> can probably provide a <em>passport</em> for <em>Karen</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "civ_Karen",
					Sector = "E9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenPassportFound" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenPassportFound
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RefugeeBlues",
							Vars = set( "KarenKilled", "KarenPassportGiven" ),
							__eval = function ()
								local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
								return quest.KarenKilled or quest.KarenPassportGiven
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "04_Betrayal",
							Vars = set( "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.WorldFlipDone
							end,
						}),
					},
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenPassportFound", "KarenQuestGiven" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenPassportFound and quest.KarenQuestGiven
					end,
				}),
			},
			Text = T(525909583573, --[[QuestsDef RefugeeBlues Text]] "Found <em>Karen's passport</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenPassportGiven" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenPassportGiven
					end,
				}),
			},
			Idx = 25,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenPassportGiven" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenPassportGiven
					end,
				}),
			},
			Text = T(844367231179, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Returned <em>Karen's passport</em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenKilled" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenKilled
					end,
				}),
			},
			Idx = 10,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "KarenKilled" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenKilled
					end,
				}),
			},
			Text = T(498674130141, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Sent <em>Karen</em> to the great manager in the sky"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set({
	KarenKilled = false,
	KarenQuestGiven = true,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.KarenKilled and quest.KarenQuestGiven
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Karen",
				}),
			},
			Idx = 34,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set({
	KarenKilled = false,
	KarenQuestGiven = true,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.KarenKilled and quest.KarenQuestGiven
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Karen",
				}),
			},
			Text = T(219627222463, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Karen</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Martha",
					Sector = "E9",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "RefugeeBlues",
							Vars = set( "MarthaHermanJob", "MarthaHermanMoney", "MarthaHermanRefusal" ),
							__eval = function ()
								local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
								return quest.MarthaHermanJob or quest.MarthaHermanMoney or quest.MarthaHermanRefusal
							end,
						}),
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Martha",
						}),
						PlaceObj('CheckIsPersistentUnitDead', {
							per_ses_id = "NPC_Herman",
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "04_Betrayal",
							Vars = set( "Given", "TriggerWorldFlip", "WorldFlipDone" ),
							__eval = function ()
								local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
								return quest.Given or quest.TriggerWorldFlip or quest.WorldFlipDone
							end,
						}),
					},
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "MarthaHermanQuest" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.MarthaHermanQuest
					end,
				}),
			},
			Text = T(777976113825, --[[QuestsDef RefugeeBlues Text]] "<em>Martha and Herman</em> are stuck in the <em><SectorName('E9')></em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Martha",
				}),
			},
			Idx = 35,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set({
	MarthaHermanJob = false,
	MarthaHermanMoney = false,
	MarthaHermanQuest = true,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.MarthaHermanJob and not quest.MarthaHermanMoney and quest.MarthaHermanQuest
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Martha",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Herman",
				}),
			},
			Text = T(684269410682, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> <em>Martha and Herman</em> are dead"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "MarthaHermanMoney" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.MarthaHermanMoney
					end,
				}),
			},
			Idx = 36,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "MarthaHermanMoney" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.MarthaHermanMoney
					end,
				}),
			},
			Text = T(541848409943, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Helped <em>Martha and Herman</em> with money"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "MarthaHermanJob" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.MarthaHermanJob
					end,
				}),
			},
			Idx = 37,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "MarthaHermanJob" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.MarthaHermanJob
					end,
				}),
			},
			Text = T(809848093203, --[[QuestsDef RefugeeBlues Text]] "<em>Outcome:</em> Employed <em>Martha and Herman</em> as mine workers"),
		}),
	},
	QuestGroup = "Savanah",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"SavingClaudette_Antoine_00_approach",
					},
					WaitOver = true,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set({
	ClaudetteSaved = false,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.ClaudetteSaved
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "ClaudetteLead",
					QuestId = "RefugeeBlues",
				}),
			},
			Once = true,
			ParamId = "TCE_TalkToAntoine",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 16,
					SecondTargetUnit = "civ_Claudette",
					TargetUnit = "any merc",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Claudette",
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D9",
					},
				}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavingClaudette_Crossroads_01_Initial",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('SectorEnterConflict', {
					disable_travel = true,
					sector_id = "D9",
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersClaudetteInitial",
			QuestId = "RefugeeBlues",
			requiredSectors = {
				"D9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"SavingClaudette_Crossroads_01_Initial",
					},
					WaitOver = true,
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set({
	ClaudetteTimerKilled = false,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.ClaudetteTimerKilled
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D9",
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "ClaudetteTimerStart",
					QuestId = "RefugeeBlues",
				}),
				PlaceObj('SetTimer', {
					Label = T(980882318382, --[[QuestsDef RefugeeBlues Label]] "Time to intervene"),
					Name = "TimerClaudette",
					Time = 10000,
				}),
				PlaceObj('SleepEffect', {}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "ClaudetteTimerPassed",
					QuestId = "RefugeeBlues",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavingClaudette_Crossroads_02_TimerExpired_1",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersClaudetteMet",
			QuestId = "RefugeeBlues",
			requiredSectors = {
				"D9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D9",
					},
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Claudette",
				}),
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('CombatIsActive', {}),
						PlaceObj('GroupIsDead', {
							Group = "LegionKidnapper_1",
						}),
						PlaceObj('GroupIsDead', {
							Group = "LegionKidnapper_2",
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('KillTimer', {
					Name = "TimerClaudette",
					StopTCE = true,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "ClaudetteTimerKilled",
					QuestId = "RefugeeBlues",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavingClaudette_Crossroads_03_StartCombat",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('GroupSetSide', {
					Side = "ally",
					TargetUnit = "civ_Claudette",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "civ_Claudette",
				}),
				PlaceObj('GroupSetAITargetModifier', {
					Group = "RefugeeRaiders",
					Modifier = 130,
					Target = "civ_Claudette",
				}),
			},
			Once = true,
			ParamId = "TCE_ClaudetteIntervention",
			QuestId = "RefugeeBlues",
			requiredSectors = {
				"D9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set({
	ClaudetteTimerKilled = false,
	ClaudetteTimerPassed = true,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.ClaudetteTimerKilled and quest.ClaudetteTimerPassed
					end,
				}),
				PlaceObj('GroupIsDead', {
					Group = "LegionKidnapper_1",
					Negate = true,
				}),
				PlaceObj('GroupIsDead', {
					Group = "LegionKidnapper_2",
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('GroupAddStatusEffect', {
					Status = "Wounded",
					TargetUnit = "LegionKidnapper_2",
				}),
				PlaceObj('GroupAddStatusEffect', {
					Status = "Surprised",
					TargetUnit = "LegionKidnapper_2",
				}),
				PlaceObj('PlaySetpiece', {
					setpiece = "ClaudetteDies",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavingClaudette_Crossroads_02_TimerExpired_2",
					},
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('GroupRemoveStatusEffect', {
					Status = "Distracted",
					TargetUnit = "RefugeeRaiders",
				}),
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "D9",
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersClaudetteStruggle",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "RefugeeRaiders",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Claudette",
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"D9",
					},
				}),
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 10,
					SecondTargetUnit = "civ_Claudette",
					TargetUnit = "any merc",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "ClaudetteSaved",
					QuestId = "RefugeeBlues",
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 10,
					City = "RefugeeCamp",
				}),
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "D9",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"SavingClaudette_Crossroads_04_CombatDone",
					},
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "South",
					TargetUnit = "civ_Claudette",
				}),
			},
			Once = true,
			ParamId = "TCE_RaidersKilled",
			QuestId = "RefugeeBlues",
			requiredSectors = {
				"D9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"SavingClaudette_Antoine_06_approach",
					},
					WaitOver = true,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "AntoineAndClaudetteLeft",
					QuestId = "RefugeeBlues",
				}),
				PlaceObj('GroupSetBehaviorExit', {
					TargetUnit = "civ_Antoine",
					closest = true,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					TargetUnit = "civ_Claudette",
					closest = true,
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "RefugeeCamp",
					SpecialConversationMessage = T(389100457816, --[[QuestsDef RefugeeBlues SpecialConversationMessage]] "helped <em>Antoine</em> and <em>Claudette</em>"),
				}),
			},
			Once = true,
			ParamId = "TCE_AntoineAndClaudetteLeave",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "MarthaHermanJob", "MarthaHermanMoney" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.MarthaHermanJob or quest.MarthaHermanMoney
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"E9",
					},
				}),
			},
			Effects = {
				PlaceObj('CityGrantLoyalty', {
					Amount = 10,
					City = "RefugeeCamp",
					SpecialConversationMessage = T(276787684822, --[[QuestsDef RefugeeBlues SpecialConversationMessage]] "helped <em>Martha</em> and <em>Herman</em>"),
				}),
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					TargetUnit = "MarthaAndHerman",
					closest = true,
				}),
			},
			Once = true,
			ParamId = "TCE_HermanAndMarthaLeave",
			QuestId = "RefugeeBlues",
			requiredSectors = {
				"E9",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"PleasingTheSpirits_Pepe_01_First",
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "SatelliteQuest",
					QuestId = "RefugeeBlues",
				}),
			},
			Once = true,
			ParamId = "TCE_GiveSatelliteQuest",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteHacked" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteHacked
					end,
				}),
			},
			Effects = {
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "RefugeeCamp",
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Minor",
					logImportant = true,
				}),
			},
			Once = true,
			ParamId = "TCE_SatelliteHacked",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"EnoughSightseeing_Karen_02_first",
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "KarenQuestGiven",
					QuestId = "RefugeeBlues",
				}),
			},
			Once = true,
			ParamId = "TCE_KarenQuestGiven",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitSquadHasItem', {
					ItemId = "US_Passport",
				}),
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"EnoughSightseeing_Karen_05_passport",
					},
				}),
			},
			Effects = {
				PlaceObj('PlayerGrantMoney', {
					Amount = 500,
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "RefugeeCamp",
					SpecialConversationMessage = T(818842954773, --[[QuestsDef RefugeeBlues SpecialConversationMessage]] "provided an US passport to <em>Karen</em>"),
				}),
				PlaceObj('UnitTakeItem', {
					ItemId = "US_Passport",
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Minor",
					logImportant = true,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "KarenPassportGiven",
					QuestId = "RefugeeBlues",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"EnoughSightseeing_Karen_05_passport",
					},
					searchInMap = true,
					searchInMarker = false,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					TargetUnit = "civ_Karen",
					closest = true,
				}),
			},
			Once = true,
			ParamId = "TCE_KarenPassportGiven",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "BastienProBono" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.BastienProBono
					end,
				}),
			},
			Effects = {
				PlaceObj('CityGrantLoyalty', {
					Amount = 25,
					City = "RefugeeCamp",
					SpecialConversationMessage = T(202530009326, --[[QuestsDef RefugeeBlues SpecialConversationMessage]] "convinced <em>Bastien</em> to stop profiteering"),
				}),
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
				PlaceObj('ApplyGuiltyOrRighteous', {}),
			},
			Once = true,
			ParamId = "TCE_BastienProBono",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "BastienShare" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.BastienShare
					end,
				}),
			},
			Effects = {
				PlaceObj('PlayerGrantMoney', {
					Amount = 12000,
				}),
				PlaceObj('GrantExperienceSector', {
					logImportant = true,
				}),
			},
			Once = true,
			ParamId = "TCE_BastienShare",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RefugeeBlues",
					Vars = set( "BastienCombat" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.BastienCombat
					end,
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy1",
					TargetUnit = "LegionRaider_Jose",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "LegionRaider_Jose",
				}),
			},
			Once = true,
			ParamId = "TCE_BastienCombat",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "AntoineAndClaudetteLeft" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.AntoineAndClaudetteLeft
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "SatelliteHacked" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.SatelliteHacked
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set( "KarenKilled", "KarenPassportGiven" ),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return quest.KarenKilled or quest.KarenPassportGiven
					end,
				}),
				PlaceObj('CheckAND', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "RescueHerMan",
							Vars = set( "Completed" ),
							__eval = function ()
								local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
								return quest.Completed
							end,
						}),
						PlaceObj('CheckOR', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									Condition = "or",
									QuestId = "RescueHerMan",
									Vars = set( "HangHerman" ),
									__eval = function ()
										local quest = gv_Quests['RescueHerMan'] or QuestGetState('RescueHerMan')
										return quest.HangHerman
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									Condition = "or",
									QuestId = "RefugeeBlues",
									Vars = set( "MarthaHermanJob", "MarthaHermanMoney" ),
									__eval = function ()
										local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
										return quest.MarthaHermanJob or quest.MarthaHermanMoney
									end,
								}),
							},
						}),
					},
				}),
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "JoseFamily",
							Vars = set( "JoseKilled" ),
							__eval = function ()
								local quest = gv_Quests['JoseFamily'] or QuestGetState('JoseFamily')
								return quest.JoseKilled
							end,
						}),
						PlaceObj('CheckAND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									Condition = "or",
									QuestId = "JoseFamily",
									Vars = set( "RunAway" ),
									__eval = function ()
										local quest = gv_Quests['JoseFamily'] or QuestGetState('JoseFamily')
										return quest.RunAway
									end,
								}),
								PlaceObj('CheckOR', {
									Conditions = {
										PlaceObj('QuestIsVariableBool', {
											Condition = "or",
											QuestId = "JoseFamily",
											Vars = set( "JoseKilled" ),
											__eval = function ()
												local quest = gv_Quests['JoseFamily'] or QuestGetState('JoseFamily')
												return quest.JoseKilled
											end,
										}),
										PlaceObj('QuestIsVariableBool', {
											Condition = "or",
											QuestId = "RefugeeBlues",
											Vars = set( "BastienProBono", "BastienShare" ),
											__eval = function ()
												local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
												return quest.BastienProBono or quest.BastienShare
											end,
										}),
									},
								}),
							},
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "RefugeeBlues",
				}),
			},
			Once = true,
			ParamId = "TCE_CompleteQuest",
			QuestId = "RefugeeBlues",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "RefugeeBlues",
					Vars = set({
	Completed = false,
}),
					__eval = function ()
						local quest = gv_Quests['RefugeeBlues'] or QuestGetState('RefugeeBlues')
						return not quest.Completed
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "04_Betrayal",
					Vars = set( "TriggerWorldFlip" ),
					__eval = function ()
						local quest = gv_Quests['04_Betrayal'] or QuestGetState('04_Betrayal')
						return quest.TriggerWorldFlip
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "RefugeeBlues",
				}),
			},
			Once = true,
			ParamId = "TCE_FailQuest",
			QuestId = "RefugeeBlues",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "ClaudetteLead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "ClaudetteTimerStart",
		}),
		PlaceObj('QuestVarBool', {
			Name = "ClaudetteSaved",
		}),
		PlaceObj('QuestVarBool', {
			Name = "ClaudetteDead",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_TalkToAntoine",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersClaudetteInitial",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersClaudetteMet",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ClaudetteIntervention",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersClaudetteStruggle",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RaidersKilled",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SatelliteQuest",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SatelliteHacked",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_GiveSatelliteQuest",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_SatelliteHacked",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KarenQuestGiven",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KarenPassportFound",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KarenPassportGiven",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KarenKilled",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaHermanQuest",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaHermanMoney",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaHermanJob",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MarthaHermanRefusal",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BastienProfiteer",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BastienCornered",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BastienCombat",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BastienProBono",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BastienShare",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KarenPassportSeen",
		}),
		PlaceObj('QuestVarBool', {
			Name = "IntelGranted",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_KarenPassportGiven",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_KarenQuestGiven",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_HermanAndMarthaLeave",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BastienProBono",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BastienShare",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_BastienCombat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_CompleteQuest",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_FailQuest",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
		}),
		PlaceObj('QuestVarBool', {
			Name = "ClaudetteTimerPassed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "ClaudetteTimerKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_AntoineAndClaudetteLeave",
		}),
		PlaceObj('QuestVarBool', {
			Name = "AntoineAndClaudetteLeft",
		}),
		PlaceObj('QuestVarNum', {
			Name = "PassportPoints",
		}),
		PlaceObj('QuestVarNum', {
			Name = "PassportPointsRequired",
			Value = 10,
		}),
	},
	group = "Savanna",
	id = "RefugeeBlues",
})

