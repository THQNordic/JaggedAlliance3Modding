-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Chapter = "Act1",
	DisplayName = T(998965708266, --[[QuestsDef Luigi DisplayName]] "Right Hand Man"),
	NoteDefs = {
		LastNoteIdx = 33,
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('SectorWarningReceived', {}),
				PlaceObj('SectorInWarningState', {
					Negate = true,
				}),
			},
			HideConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('VillainIsDefeated', {
							Group = "FleatownBoss",
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "Luigi",
							Vars = set( "BossInvited", "LuigiSaved", "MentionFavor" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.BossInvited or quest.LuigiSaved or quest.MentionFavor
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Smiley",
							Vars = set( "LaBouePartDone" ),
							__eval = function ()
								local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
								return quest.LaBouePartDone
							end,
						}),
					},
				}),
			},
			Idx = 29,
			ShowConditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"I9",
					},
				}),
				PlaceObj('SectorInWarningState', {}),
			},
			Text = T(201067844640, --[[QuestsDef Luigi Text]] "Trespassing in <em><SectorName('I9')></em> without an <em>invitation</em> will provoke <em>Boss Blaubert's guards</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "FleatownBoss",
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "LuigiSaved", "MentionFavor" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiSaved or quest.MentionFavor
					end,
				}),
			},
			HideConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "LuigiSaved" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.LuigiSaved
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "Smiley",
							Vars = set( "BossDead", "LaBouePartDone" ),
							__eval = function ()
								local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
								return quest.BossDead or quest.LaBouePartDone
							end,
						}),
					},
				}),
			},
			Idx = 30,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "BossInvited" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.BossInvited
					end,
				}),
			},
			Text = T(327627626175, --[[QuestsDef Luigi Text]] "Received an <em>invitation</em> to meet <em>Boss Blaubert</em> in <em><SectorName('I9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FleatownGeneral",
					Vars = set( "RimvilleGlobe_Opened" ),
					__eval = function ()
						local quest = gv_Quests['FleatownGeneral'] or QuestGetState('FleatownGeneral')
						return quest.RimvilleGlobe_Opened
					end,
				}),
			},
			Idx = 31,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "FleatownGeneral",
					Vars = set( "RimvilleGlobe_Given" ),
					__eval = function ()
						local quest = gv_Quests['FleatownGeneral'] or QuestGetState('FleatownGeneral')
						return quest.RimvilleGlobe_Given
					end,
				}),
			},
			Text = T(790478339157, --[[QuestsDef Luigi Text]] "Boss Blaubert is keeping something secret, locked away in the <em>decorative globe</em> at his <em><SectorName('I9')></em> mansion"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiSaved" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiSaved
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Luigi",
				}),
			},
			Idx = 8,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.Given
					end,
				}),
			},
			Text = T(725684334049, --[[QuestsDef Luigi Text]] "<em>Boss Blaubert</em> wants his right hand man <em>Luigi</em> brought to him from <em><SectorName('L6')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
			},
			HideConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "LuigiMentionBoss", "LuigiPlans" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.LuigiMentionBoss and quest.LuigiPlans
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "Luigi",
							Vars = set( "LuigiDead", "SupportBlaubert", "SupportLuigi", "SupportNoOne" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.LuigiDead or quest.SupportBlaubert or quest.SupportLuigi or quest.SupportNoOne
							end,
						}),
						PlaceObj('PlayerIsInSectors', {
							Sectors = {
								"I9",
							},
						}),
					},
				}),
			},
			Idx = 19,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiSaved" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiSaved
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Negate = true,
					Sectors = {
						"I9",
					},
				}),
			},
			Text = T(610463542339, --[[QuestsDef Luigi Text]] "<em>Luigi</em> is on his way to <em><SectorName('I9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "SupportBlaubert", "SupportLuigi", "SupportNoOne" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.SupportBlaubert or quest.SupportLuigi or quest.SupportNoOne
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead
					end,
				}),
			},
			Idx = 18,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiMentionBoss", "LuigiPlans" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiMentionBoss and quest.LuigiPlans
					end,
				}),
			},
			Text = T(883358137148, --[[QuestsDef Luigi Text]] "<em>Luigi</em> probably means to kill <em>Boss Blaubert</em> in <em><SectorName('I9')></em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "FleatownBoss",
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "SupportBlaubert", "SupportLuigi", "SupportNoOne" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.SupportBlaubert or quest.SupportLuigi or quest.SupportNoOne
					end,
				}),
			},
			HideConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "LuigiMentionBoss", "LuigiPlans" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.LuigiMentionBoss and quest.LuigiPlans
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "LuigiDead" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.LuigiDead
							end,
						}),
					},
				}),
			},
			Idx = 26,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiSaved" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiSaved
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"I9",
					},
				}),
			},
			Text = T(698764611760, --[[QuestsDef Luigi Text]] 'There is some kind of "Grand Chien standoff" between <em>Luigi</em> and <em>Boss Blaubert</em> in <SectorName(\'I9\')>'),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "BossPartnership" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.BossPartnership
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_FleatownBoss",
				}),
			},
			Idx = 32,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "BossPartnership" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.BossPartnership
					end,
				}),
			},
			Text = T(323215857234, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> Established a <em>partnership</em> with <em>Boss Blaubert</em>"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_FleatownBoss",
				}),
			},
			Idx = 33,
			ShowConditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_FleatownBoss",
				}),
			},
			Text = T(337733492533, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> <em>Boss Blaubert</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead
					end,
				}),
			},
			Idx = 9,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "Given", "LuigiCombat", "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.Given and quest.LuigiCombat and quest.LuigiDead
					end,
				}),
			},
			Text = T(790135633872, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> <em>Boss Blaubert's</em> right hand man <em>Luigi</em> was killed in prison"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead
					end,
				}),
			},
			Idx = 27,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set({
	Given = false,
	LuigiCombat = false,
}),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return not quest.Given or not quest.LuigiCombat
					end,
				}),
			},
			Text = T(671649164046, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> <em>Luigi</em> is dead"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead
					end,
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "SupportBlaubert" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.SupportBlaubert
					end,
				}),
			},
			Text = T(178956578706, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> Supported <em>Boss Blaubert</em> against <em>Luigi</em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Smiley",
					Vars = set( "BossDead" ),
					__eval = function ()
						local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
						return quest.BossDead
					end,
				}),
			},
			Idx = 13,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "SupportLuigi" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.SupportLuigi
					end,
				}),
			},
			Text = T(263202992054, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> Supported <em>Luigi</em> against <em>Boss Blaubert</em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Smiley",
					Vars = set( "BossDead" ),
					__eval = function ()
						local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
						return quest.BossDead
					end,
				}),
			},
			Idx = 14,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "SupportNoOne" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.SupportNoOne
					end,
				}),
			},
			Text = T(145252601927, --[[QuestsDef Luigi Text]] "<em>Outcome:</em> Supported <em>no one</em> and had to fight everyone"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "FleatownBoss",
					Sector = "I9",
				}),
			},
			HideConditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Smiley",
							Vars = set( "BossDead" ),
							__eval = function ()
								local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
								return quest.BossDead
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "BlaubertRewardGiven" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.BlaubertRewardGiven
							end,
						}),
					},
				}),
			},
			Idx = 16,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set({
	BlaubertRewardGiven = false,
	LuigiDead = true,
	SupportBlaubert = true,
}),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return not quest.BlaubertRewardGiven and quest.LuigiDead and quest.SupportBlaubert
					end,
				}),
			},
			Text = T(144354989105, --[[QuestsDef Luigi Text]] "Time to have a word with <em>Boss Blaubert</em> about the whole affair with Luigi"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Luigi",
					Sector = "I9",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "LuigiDead", "LuigiRewardGiven" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiDead or quest.LuigiRewardGiven
					end,
				}),
			},
			Idx = 17,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Smiley",
					Vars = set( "BossDead" ),
					__eval = function ()
						local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
						return quest.BossDead
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set({
	LuigiRewardGiven = false,
	SupportLuigi = true,
}),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return not quest.LuigiRewardGiven and quest.SupportLuigi
					end,
				}),
			},
			Text = T(820257028397, --[[QuestsDef Luigi Text]] "Time to have a word with <em>Luigi</em> about the whole affair with Boss Blaubert"),
		}),
	},
	QuestGroup = "Other",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"PrisonerInnocent01_Approach_success",
						"PrisonerInnocent02_Approach_success",
						"PrisonerInnocent03_Approach_success",
						"PrisonerInnocent04_Approach_success",
						"PrisonerInnocent05_Approach_success",
						"PrisonerInnocent06_Approach_success",
						"PrisonerInnocent07_Approach_success",
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "PrisonGiven",
					QuestId = "Luigi",
				}),
			},
			Once = true,
			ParamId = "TCE_ReleasedInnocent",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L6_Underground",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "AnyQueuedPrisonerForTCE" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.AnyQueuedPrisonerForTCE
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent01_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "Fleatown",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent02_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "PortDiancie",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent03_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "Pantagruel",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent04_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "Payak",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent05_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "IlleMorat",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent06_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "Landsbach",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerInnocent07_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = 2,
							City = "PortDiancie",
							SpecialConversationMessage = T(206229704636, --[[QuestsDef Luigi SpecialConversationMessage]] "released an innocent from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerJailbird01_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -3,
							City = "Fleatown",
							SpecialConversationMessage = T(140989506711, --[[QuestsDef Luigi SpecialConversationMessage]] "released a criminal from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerJailbird02_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -3,
							City = "Pantagruel",
							SpecialConversationMessage = T(140989506711, --[[QuestsDef Luigi SpecialConversationMessage]] "released a criminal from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerJailbird03_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -3,
							City = "PortDiancie",
							SpecialConversationMessage = T(140989506711, --[[QuestsDef Luigi SpecialConversationMessage]] "released a criminal from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerJailbird04_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -3,
							City = "Pantagruel",
							SpecialConversationMessage = T(140989506711, --[[QuestsDef Luigi SpecialConversationMessage]] "released a criminal from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerJailbird05_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -3,
							City = "Fleatown",
							SpecialConversationMessage = T(140989506711, --[[QuestsDef Luigi SpecialConversationMessage]] "released a criminal from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"PrisonerJailbird06_Leave",
							},
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -3,
							City = "Payak",
							SpecialConversationMessage = T(140989506711, --[[QuestsDef Luigi SpecialConversationMessage]] "released a criminal from jail"),
						}),
						PlaceObj('QuestSetVariableNum', {
							Amount = 1,
							Prop = "PrisonersReleased",
							QuestId = "TheGoodPlace",
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "AnyQueuedPrisonerForTCE",
					QuestId = "Luigi",
					Set = false,
				}),
			},
			ParamId = "TCE_PrisonerLeave",
			QuestId = "Luigi",
			requiredSectors = {
				"L6_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L6",
					},
				}),
				PlaceObj('UnitIsAware', {
					TargetUnit = "EnemySquad",
				}),
				PlaceObj('PlayerIsPlayerTurn', {}),
			},
			Effects = {
				PlaceObj('GroupAlert', {
					TargetUnit = "Prisoners1",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "Prisoners2",
				}),
			},
			Once = true,
			ParamId = "TCE_PrisonersJoinCombat",
			QuestId = "Luigi",
			requiredSectors = {
				"L6",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L6",
					},
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
				}),
				PlaceObj('SectorCheckOwner', {}),
				PlaceObj('QuestIsVariableNum', {
					Amount = 1,
					Prop = "PrisonersReleased",
					QuestId = "TheGoodPlace",
				}),
			},
			Effects = {
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "East",
					TargetUnit = "Prisoners1",
					UseWeapons = true,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					MarkerGroup = "East",
					TargetUnit = "Prisoners2",
					UseWeapons = true,
				}),
			},
			Once = true,
			ParamId = "TCE_PrisonersLeaveAfterCombat",
			QuestId = "Luigi",
			requiredSectors = {
				"L6",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitCanGoToPos', {
					PositionMarker = "OutsideOfCell",
					TargetUnit = "Luigi",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "LuigiCellUnlocked",
					QuestId = "Luigi",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Prison_Luigi02_Approach_Unlocked",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_LuigiDoor",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiCombat" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiCombat
					end,
				}),
			},
			Effects = {
				PlaceObj('GroupSetSide', {
					Side = "enemy1",
					TargetUnit = "LuigiAndJoseph",
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "LuigiAndJoseph",
				}),
			},
			Once = true,
			ParamId = "TCE_CombatStart",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiSaved" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiSaved
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L6_Underground",
					},
				}),
			},
			Effects = {
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Minor",
					logImportant = true,
				}),
				PlaceObj('GroupSetBehaviorExit', {
					Running = true,
					TargetUnit = "LuigiAndJoseph",
					closest = true,
				}),
			},
			Once = true,
			ParamId = "TCE_LuigiSaved",
			QuestId = "Luigi",
			requiredSectors = {
				"L6_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "SupportBlaubert", "SupportLuigi", "SupportNoOne" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.SupportBlaubert or quest.SupportLuigi or quest.SupportNoOne
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "SupportLuigi" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.SupportLuigi
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "LuigiAndJailbirds",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "RimvilleGuardsAll",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "FleatownBoss",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "RimvilleGuardsAll",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "FleatownBoss",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "SupportBlaubert" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.SupportBlaubert
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "RimvilleGuardsAll",
						}),
						PlaceObj('GroupSetSide', {
							Side = "ally",
							TargetUnit = "FleatownBoss",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "LuigiAndJailbirds",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "LuigiAndJailbirds",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "SupportNoOne" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.SupportNoOne
							end,
						}),
					},
					'Effects', {
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "LuigiAndJailbirds",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "RimvilleGuardsAll",
						}),
						PlaceObj('GroupSetSide', {
							Side = "enemy1",
							TargetUnit = "FleatownBoss",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "RimvilleGuardsAll",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "LuigiAndJailbirds",
						}),
						PlaceObj('GroupAlert', {
							TargetUnit = "FleatownBoss",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_ChoiceMade",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"LuigiBoss_01_approach",
						"LuigiBoss_02_approach",
					},
					WaitOver = true,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"LuigiBoss_01_approach",
							},
						}),
					},
					'Effects', {
						PlaceObj('PlayerGrantMoney', {
							Amount = 10000,
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = 20,
							City = "Fleatown",
							SpecialConversationMessage = T(626571858590, --[[QuestsDef Luigi SpecialConversationMessage]] "supported <em>Luigi</em>"),
						}),
						PlaceObj('NpcUnitTakeItem', {
							ItemId = "TheThing",
							TargetUnit = "PrisonerJoseph",
						}),
						PlaceObj('UnitGrantItem', {
							LootTableId = "Luigi_Reward",
						}),
						PlaceObj('SectorSetRAndROperation', {
							sector_id = "I9",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('BanterHasPlayed', {
									Banters = {
										"LuigiBoss_02_approach",
									},
								}),
							},
							'Effects', {
								PlaceObj('PlayerGrantMoney', {
									Amount = 3000,
								}),
								PlaceObj('SectorSetRAndROperation', {
									enable = false,
									sector_id = "I9",
								}),
							},
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "LuigiRewardGiven",
					QuestId = "Luigi",
				}),
			},
			Once = true,
			ParamId = "TCE_LuigiReward",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "Luigi",
							Vars = set( "BossPartnership", "BossReward", "LuigiRewardGiven" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.BossPartnership or quest.BossReward or quest.LuigiRewardGiven
							end,
						}),
					},
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
					sector_id = "I9",
				}),
			},
			Effects = {
				PlaceObj('SectorSetRAndROperation', {
					sector_id = "I9",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "I9",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "Luigi",
				}),
			},
			Once = true,
			ParamId = "TCE_Complete",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('OR', {
					Conditions = {
						PlaceObj('AND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Luigi",
									Vars = set( "LuigiDead", "SupportLuigi" ),
									__eval = function ()
										local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
										return quest.LuigiDead and quest.SupportLuigi
									end,
								}),
							},
						}),
						PlaceObj('AND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Luigi",
									Vars = set( "SupportBlaubert" ),
									__eval = function ()
										local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
										return quest.SupportBlaubert
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Smiley",
									Vars = set( "BossDead" ),
									__eval = function ()
										local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
										return quest.BossDead
									end,
								}),
							},
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "SupportNoOne" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.SupportNoOne
							end,
						}),
						PlaceObj('AND', {
							Conditions = {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Luigi",
									Vars = set({
	Completed = false,
	LuigiDead = true,
}),
									__eval = function ()
										local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
										return not quest.Completed and quest.LuigiDead
									end,
								}),
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Smiley",
									Vars = set( "BossDead" ),
									__eval = function ()
										local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
										return quest.BossDead
									end,
								}),
							},
						}),
					},
				}),
				PlaceObj('SectorIsInConflict', {
					Negate = true,
					sector_id = "I9",
				}),
			},
			Effects = {
				PlaceObj('SectorSetRAndROperation', {
					enable = false,
					sector_id = "I9",
				}),
				PlaceObj('SectorSetSide', {
					disable_sticky = true,
					sector_id = "I9",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "Luigi",
				}),
			},
			Once = true,
			ParamId = "TCE_Fail",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Luigi",
					Vars = set( "JackhammerExecution", "JackhammerPrisoner" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.JackhammerExecution or quest.JackhammerPrisoner
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "JackhammerExecution", "JackhammerExposed" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.JackhammerExecution and quest.JackhammerExposed
							end,
						}),
					},
					'Effects', {
						PlaceObj('GrantExperienceSector', {
							Amount = "XPQuestReward_Medium",
							logImportant = true,
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = 10,
							City = "PortDiancie",
							SpecialConversationMessage = T(214809118469, --[[QuestsDef Luigi SpecialConversationMessage]] "executed <em>Jackhammer</em>"),
						}),
						PlaceObj('QuestSetVariableBool', {
							Prop = "JackhammerDead",
							QuestId = "Luigi",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('QuestIsVariableBool', {
									QuestId = "Luigi",
									Vars = set({
	JackhammerExecution = true,
	JackhammerExposed = false,
}),
									__eval = function ()
										local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
										return quest.JackhammerExecution and not quest.JackhammerExposed
									end,
								}),
							},
							'Effects', {
								PlaceObj('GrantExperienceSector', {
									Amount = "XPQuestReward_Medium",
									logImportant = true,
								}),
								PlaceObj('CityGrantLoyalty', {
									Amount = 5,
									City = "PortDiancie",
									SpecialConversationMessage = T(377567445998, --[[QuestsDef Luigi SpecialConversationMessage]] "executed <em>Jackhammer</em>"),
								}),
								PlaceObj('QuestSetVariableBool', {
									Prop = "JackhammerDead",
									QuestId = "Luigi",
								}),
							},
							'EffectsElse', {
								PlaceObj('ConditionalEffect', {
									'Conditions', {
										PlaceObj('QuestIsVariableBool', {
											QuestId = "Luigi",
											Vars = set( "JackhammerPrisoner" ),
											__eval = function ()
												local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
												return quest.JackhammerPrisoner
											end,
										}),
									},
									'Effects', {
										PlaceObj('NpcUnitTakeItem', {
											ItemId = "AA12",
											TargetUnit = "Jackhammer",
										}),
										PlaceObj('UnitGrantItem', {
											ItemId = "AA12",
										}),
										PlaceObj('GrantExperienceSector', {
											Amount = "XPQuestReward_Medium",
											logImportant = true,
										}),
										PlaceObj('CityGrantLoyalty', {
											Amount = 5,
											City = "PortDiancie",
											SpecialConversationMessage = T(361777614283, --[[QuestsDef Luigi SpecialConversationMessage]] "sent <em>Jackhammer</em> to jail"),
										}),
										PlaceObj('GroupSetBehaviorExit', {
											MarkerGroup = "UndergroundDoorBehind",
											TargetUnit = "Jackhammer",
										}),
									},
								}),
							},
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "TheGoodPlace",
				}),
			},
			Once = true,
			ParamId = "TCE_JackhammerDone",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "JackhammerPrisoner" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.JackhammerPrisoner
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Jackhammer",
				}),
				PlaceObj('UnitIsOnMap', {
					TargetUnit = "Jackhammer",
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"L6_Underground",
					},
				}),
			},
			Effects = {
				PlaceObj('NpcUnitTakeItem', {
					ItemId = "AA12",
					TargetUnit = "Jackhammer",
				}),
				PlaceObj('NpcUnitTakeItem', {
					ItemId = "HeavyArmorChestplate_CeramicPlates",
					TargetUnit = "Jackhammer",
				}),
				PlaceObj('NpcUnitTakeItem', {
					ItemId = "HeavyArmorHelmet_WeavePadding",
					TargetUnit = "Jackhammer",
				}),
				PlaceObj('NpcUnitTakeItem', {
					ItemId = "KevlarLeggings",
					TargetUnit = "Jackhammer",
				}),
				PlaceObj('NpcUnitTakeItem', {
					ItemId = "OpticalLens",
					TargetUnit = "Jackhammer",
				}),
				PlaceObj('UnitMakeNonVillain', {
					UnitId = "NPC_Jackhammer",
				}),
			},
			Once = true,
			ParamId = "TCE_JackhammerDisarmed",
			QuestId = "Luigi",
			requiredSectors = {
				"L6_Underground",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "JackhammerRelease" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.JackhammerRelease
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableTimer', {
					Prop = "JackhammerPatrolTimer",
					QuestId = "Luigi",
					TimeAmount = 24,
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "JackhammerExposed", "JackhammerRelease" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.JackhammerExposed and quest.JackhammerRelease
							end,
						}),
					},
					'Effects', {
						PlaceObj('GrantExperienceSector', {
							Amount = "XPQuestReward_Minor",
							logImportant = true,
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = -10,
							City = "PortDiancie",
							SpecialConversationMessage = T(230538585605, --[[QuestsDef Luigi SpecialConversationMessage]] "let <em>Jackhammer</em> go"),
						}),
						PlaceObj('GroupSetBehaviorExit', {
							MarkerGroup = "East",
							Running = true,
							TargetUnit = "Jackhammer",
							UseWeapons = true,
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set({
	JackhammerExposed = false,
	JackhammerRelease = true,
}),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return not quest.JackhammerExposed and quest.JackhammerRelease
							end,
						}),
					},
					'Effects', {
						PlaceObj('GrantExperienceSector', {
							Amount = "XPQuestReward_Minor",
							logImportant = true,
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = -5,
							City = "PortDiancie",
							SpecialConversationMessage = T(204080306715, --[[QuestsDef Luigi SpecialConversationMessage]] "let <em>Jackhammer</em> go"),
						}),
						PlaceObj('GroupSetBehaviorExit', {
							MarkerGroup = "East",
							TargetUnit = "Jackhammer",
							UseWeapons = true,
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "JackhammerLuigi", "JackhammerRelease" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.JackhammerLuigi and quest.JackhammerRelease
							end,
						}),
					},
					'Effects', {
						PlaceObj('GrantExperienceSector', {
							Amount = "XPQuestReward_Minor",
							logImportant = true,
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = 10,
							City = "Fleatown",
							SpecialConversationMessage = T(489502767625, --[[QuestsDef Luigi SpecialConversationMessage]] "released <em>Luigi</em> from jail"),
						}),
						PlaceObj('QuestSetVariableBool', {
							Prop = "LuigiSaved",
							QuestId = "Luigi",
						}),
						PlaceObj('GroupSetBehaviorExit', {
							TargetUnit = "LuigiAndJoseph",
							closest = true,
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "JackhammerBribe", "JackhammerRelease" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.JackhammerBribe and quest.JackhammerRelease
							end,
						}),
					},
					'Effects', {
						PlaceObj('CityGrantLoyalty', {
							Amount = -10,
							City = "PortDiancie",
							SpecialConversationMessage = T(799731083109, --[[QuestsDef Luigi SpecialConversationMessage]] "let <em>Jackhammer</em> go"),
						}),
						PlaceObj('PlayerGrantMoney', {
							Amount = 10000,
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_JackhammerReleased",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestHasTimerPassed', {
					QuestId = "Luigi",
					TimerVariable = "JackhammerPatrolTimer",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Jackhammer",
				}),
			},
			Effects = {
				PlaceObj('SectorSpawnSquad', {
					sector_id = "L6",
					squad_def_id = "JackhammerSquad",
				}),
				PlaceObj('UnitMakeNonVillain', {
					UnitId = "NPC_Jackhammer",
				}),
			},
			Once = true,
			ParamId = "TCE_JackhammerStartPatrol",
			QuestId = "Luigi",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_Jackhammer",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "JackhammerDead",
					QuestId = "Luigi",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "JackhammerRelease" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.JackhammerRelease
							end,
						}),
					},
					'Effects', {
						PlaceObj('GrantExperienceSector', {
							Amount = "XPQuestReward_Medium",
							logImportant = true,
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "TheGoodPlace",
				}),
			},
			Once = true,
			ParamId = "TCE_JackhammerDead",
			QuestId = "Luigi",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "BossInvited",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MentionFavor",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MentionAdonis",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiCellUnlocked",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiMentionBoss",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiPlans",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiCombat",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiSaved",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SupportBlaubert",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SupportLuigi",
		}),
		PlaceObj('QuestVarBool', {
			Name = "SupportNoOne",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BossPartnership",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BossReward",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiAndMollieDone",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "UndergroundEntrance",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PrisonGiven",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerMet",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerLuigi",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerDocuments",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerLoans",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerClue",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerExposed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerBribe",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerExecution",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerPrisoner",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerRelease",
		}),
		PlaceObj('QuestVarBool', {
			Name = "JackhammerDead",
		}),
		PlaceObj('QuestVarNum', {
			Name = "JackhammerPatrolTimer",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_JackhammerDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_JackhammerDisarmed",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_JackhammerReleased",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_JackhammerStartPatrol",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_JackhammerDead",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ReleasedInnocent",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PrisonerLeave",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PrisonersJoinCombat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PrisonersLeaveAfterCombat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ChoiceMade",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LuigiDoor",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_CombatStart",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LuigiSaved",
		}),
		PlaceObj('QuestVarBool', {
			Name = "AnyQueuedPrisonerForTCE",
		}),
		PlaceObj('QuestVarBool', {
			Name = "BlaubertRewardGiven",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LuigiRewardGiven",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LuigiReward",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Complete",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Fail",
		}),
	},
	group = "Global",
	id = "Luigi",
})

