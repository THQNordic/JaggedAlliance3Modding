-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	Author = "Boyan",
	Chapter = "Act2",
	DevNotes = "Completed when the fate of the Major is decided in the conversation Major_1.\n\nA certain amount of Reputation is required for certain actions (conversation Major_1):\n- 50 to gain Evidence against Corazon\n- 75 to recruit the Major\n\nReputation gains:\n+5 for each taken Outpost (normally +25-30, max +35)\n-5 to -10 time penalty for more than 1 or 2 months (normally -5)\n+5 for certain story choices (normally +50, up to max +100 for overly aggressive play style)\n-5 to +15 for conversation choices (normally +5)",
	DisplayName = T(229771508870, --[[QuestsDef 05_TakeDownMajor DisplayName]] "Taking Down The Major"),
	KillTCEsConditions = {
		PlaceObj('QuestIsVariableBool', {
			Condition = "or",
			QuestId = "05_TakeDownMajor",
			Vars = set( "Completed" ),
			__eval = function ()
				local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
				return quest.Completed
			end,
		}),
	},
	Main = true,
	NoteDefs = {
		LastNoteIdx = 23,
		PlaceObj('QuestNote', {
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('PlayerIsInSectors', {
							Sectors = {
								"A20",
							},
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "03_DefeatTheLegion",
							Vars = set( "PresidentLocation" ),
							__eval = function ()
								local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
								return quest.PresidentLocation
							end,
						}),
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"Radio_BetrayalInvitation",
							},
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "Given" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.Given
							end,
						}),
					},
				}),
			},
			Idx = 21,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "03A_PresidentNotes",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['03A_PresidentNotes'] or QuestGetState('03A_PresidentNotes')
						return quest.Given
					end,
				}),
			},
			Text = T(363340291180, --[[QuestsDef 05_TakeDownMajor Text]] "The <em>Legion</em> has kidnapped <em>Emma's father</em> Alphonse LaFontaine, the <em>President</em> of Grand Chien "),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "President",
					Sector = "A20",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.Given
					end,
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
			},
			Idx = 23,
			ShowConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('PlayerIsInSectors', {
							Sectors = {
								"A20",
							},
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "03_DefeatTheLegion",
							Vars = set( "PresidentLocation" ),
							__eval = function ()
								local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
								return quest.PresidentLocation
							end,
						}),
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"Radio_BetrayalInvitation",
							},
						}),
					},
				}),
			},
			Text = T(872081131752, --[[QuestsDef 05_TakeDownMajor Text]] "The <em>Major</em> has taken as a hostage <em>Emma's father</em> Alphonse LaFontaine, the <em>President</em> of Grand Chien "),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "TheMajor",
					Sector = "A20",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
			},
			Idx = 22,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "Given" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.Given
					end,
				}),
			},
			Text = T(202009767662, --[[QuestsDef 05_TakeDownMajor Text]] "<em>The Major</em> must be defeated and his involvement with <em>Corazon Santiago</em> investigated"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "CombatFinished" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.CombatFinished
							end,
						}),
						PlaceObj('PlayerIsInSectors', {
							Sectors = {
								"A20",
							},
						}),
					},
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "03_DefeatTheLegion",
					Vars = set( "MajorLocation" ),
					__eval = function ()
						local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
						return quest.MajorLocation
					end,
				}),
			},
			Idx = 11,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "03_DefeatTheLegion",
					Vars = set( "MajorLead" ),
					__eval = function ()
						local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
						return quest.MajorLead
					end,
				}),
			},
			Text = T(640051941601, --[[QuestsDef 05_TakeDownMajor Text]] "Rumor: <em>The Major</em> is somewhere in the <em>Highlands</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Elliot",
					Sector = "H14",
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "Completed" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.Completed
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "Elliot",
							Vars = set( "ElliotDead", "ElliotExposed", "ElliotLead", "ElliotRumor", "Given" ),
							__eval = function ()
								local quest = gv_Quests['Elliot'] or QuestGetState('Elliot')
								return quest.ElliotDead or quest.ElliotExposed or quest.ElliotLead or quest.ElliotRumor or quest.Given
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "03_DefeatTheLegion",
							Vars = set( "MajorLocation" ),
							__eval = function ()
								local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
								return quest.MajorLocation
							end,
						}),
					},
				}),
			},
			Idx = 18,
			Scouting = true,
			ShowConditions = {
				PlaceObj('CheckAND', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "03_DefeatTheLegion",
							Vars = set({
	MajorLocation = false,
}),
							__eval = function ()
								local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
								return not quest.MajorLocation
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Elliot",
							Vars = set({
	ElliotDead = false,
	ElliotExposed = false,
	ElliotLead = false,
	ElliotRumor = false,
	Given = false,
}),
							__eval = function ()
								local quest = gv_Quests['Elliot'] or QuestGetState('Elliot')
								return not quest.ElliotDead and not quest.ElliotExposed and not quest.ElliotLead and not quest.ElliotRumor and not quest.Given
							end,
						}),
					},
				}),
			},
			Text = T(242046454235, --[[QuestsDef 05_TakeDownMajor Text]] "Rumor: <em>The Major</em> is in <em>Camp du Crocodile</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "Elliot",
					Sector = "H14",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "03_DefeatTheLegion",
					Vars = set( "MajorLocation" ),
					__eval = function ()
						local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
						return quest.MajorLocation
					end,
				}),
			},
			HideConditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "Completed" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.Completed
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "Elliot",
							Vars = set( "ElliotDead", "ElliotExposed", "Given" ),
							__eval = function ()
								local quest = gv_Quests['Elliot'] or QuestGetState('Elliot')
								return quest.ElliotDead or quest.ElliotExposed or quest.Given
							end,
						}),
					},
				}),
			},
			Idx = 19,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Elliot",
					Vars = set( "ElliotLead", "ElliotRumor" ),
					__eval = function ()
						local quest = gv_Quests['Elliot'] or QuestGetState('Elliot')
						return quest.ElliotLead or quest.ElliotRumor
					end,
				}),
			},
			Text = T(242046454235, --[[QuestsDef 05_TakeDownMajor Text]] "Rumor: <em>The Major</em> is in <em>Camp du Crocodile</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					Sector = "A20",
				}),
			},
			CompletionConditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
			},
			Idx = 12,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "03_DefeatTheLegion",
					Vars = set( "MajorLocation" ),
					__eval = function ()
						local quest = gv_Quests['03_DefeatTheLegion'] or QuestGetState('03_DefeatTheLegion')
						return quest.MajorLocation
					end,
				}),
			},
			Text = T(547051787830, --[[QuestsDef 05_TakeDownMajor Text]] "Clue: <em>The Major</em> is in the <em>Eagle's Nest</em> camp"),
		}),
		PlaceObj('QuestNote', {
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueBiff",
					Vars = set( "MERC_Scallion" ),
					__eval = function ()
						local quest = gv_Quests['RescueBiff'] or QuestGetState('RescueBiff')
						return quest.MERC_Scallion
					end,
				}),
			},
			Idx = 20,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "RescueBiff",
					Vars = set( "MERC_Scallion" ),
					__eval = function ()
						local quest = gv_Quests['RescueBiff'] or QuestGetState('RescueBiff')
						return quest.MERC_Scallion
					end,
				}),
			},
			Text = T(252826057119, --[[QuestsDef 05_TakeDownMajor Text]] "The mysterious Major is a former merc: <em>Major Spike Scallion</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "TheMajor",
					Sector = "A20",
				}),
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "President",
					Sector = "A20",
				}),
			},
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
			},
			HideConditions = {
				PlaceObj('GroupIsDead', {
					Group = "President",
				}),
			},
			Idx = 15,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "TCE_ShootPresident" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.TCE_ShootPresident
					end,
				}),
			},
			Text = T(792141583863, --[[QuestsDef 05_TakeDownMajor Text]] "<em>The Major</em> has ordered his troops to shoot the <em>President</em>"),
		}),
		PlaceObj('QuestNote', {
			Badges = {
				PlaceObj('QuestBadgePlacement', {
					BadgeUnit = "TheMajor",
					Sector = "A20",
				}),
			},
			HideConditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorDead", "MajorJail", "MajorRecruited" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorDead or quest.MajorJail or quest.MajorRecruited
					end,
				}),
			},
			Idx = 16,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
			},
			Text = T(246613182898, --[[QuestsDef 05_TakeDownMajor Text]] "Time to have a word with the <em>Major</em>"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorDead" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorDead
					end,
				}),
			},
			Idx = 4,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorDead" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorDead
					end,
				}),
			},
			Text = T(776812750845, --[[QuestsDef 05_TakeDownMajor Text]] "<em>Outcome:</em> Executed <em>Major Spike Scallion</em>, leader of the Legion"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorJail" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorJail
					end,
				}),
			},
			Idx = 5,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorJail" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorJail
					end,
				}),
			},
			Text = T(767067432920, --[[QuestsDef 05_TakeDownMajor Text]] "<em>Outcome:</em> <em>Major Spike Scallion</em>, leader of the Legion, will serve a sentence for war crimes in a Grand Chien high security prison"),
		}),
		PlaceObj('QuestNote', {
			AddInHistory = true,
			CompletionConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorJail" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorJail
					end,
				}),
			},
			Idx = 6,
			ShowConditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorRecruited" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorRecruited
					end,
				}),
			},
			Text = T(263227420638, --[[QuestsDef 05_TakeDownMajor Text]] "<em>Outcome:</em> Recruited <em>Major Spike Scallion</em>, leader of the Legion"),
		}),
	},
	QuestGroup = "The Fate Of Grand Chien",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('CombatIsActive', {}),
				PlaceObj('PlayerIsPlayerTurn', {}),
			},
			Effects = {
				PlaceObj('SectorEnterConflict', {
					disable_travel = true,
					lock_conflict = true,
					sector_id = "A20",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('BanterHasPlayed', {
							Banters = {
								"President01_Combat_Approach",
							},
							Negate = true,
						}),
					},
					'Effects', {
						PlaceObj('PlayBanterEffect', {
							Banters = {
								"Major01_StartBattle_Radio",
							},
							banterSequentialWaitFor = "BanterStart",
							searchInMap = true,
							searchInMarker = false,
						}),
					},
				}),
				PlaceObj('GroupAlert', {
					TargetUnit = "EnemySquad",
				}),
			},
			Once = true,
			ParamId = "TCE_StartCombat_A20",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 12,
					SecondTargetUnit = "TheMajor",
					TargetUnit = "any merc",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Major03_Defeated_Approach",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_MajorApproachCombat",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "MercNearPlaza" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.MercNearPlaza
							end,
						}),
						PlaceObj('CombatTurn', {
							Amount = 4,
							Condition = ">=",
						}),
						PlaceObj('VillainIsDefeated', {
							Group = "TheMajor",
						}),
					},
				}),
				PlaceObj('CombatIsActive', {}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_President",
				}),
			},
			Effects = {
				PlaceObj('GroupSetAITargetModifier', {
					Group = "EnemySquad",
					Modifier = 500,
					Target = "President",
				}),
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Major02_ShootingOrder_Radio",
					},
					banterSequentialWaitFor = "BanterStart",
					searchInMap = true,
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_ShootPresident",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('VillainIsDefeated', {
					Group = "TheMajor",
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "G10",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "F19",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "H14",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "D10",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "H4",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "E16",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('SectorCheckOwner', {
							sector_id = "F7",
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 5,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_OutpostsTaken",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('VillainIsDefeated', {
					Group = "TheMajor",
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('CheckSatelliteTimeRange', {
							TimeMaxH = 100000,
							TimeMinH = 1440,
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = -10,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('CheckSatelliteTimeRange', {
									TimeMaxH = 100000,
									TimeMinH = 720,
								}),
							},
							'Effects', {
								PlaceObj('QuestSetVariableNum', {
									Amount = -5,
									Prop = "Reputation",
									QuestId = "05_TakeDownMajor",
								}),
							},
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_TimePenalty",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "JoseFamily",
					Vars = set( "JoseKilled" ),
					__eval = function ()
						local quest = gv_Quests['JoseFamily'] or QuestGetState('JoseFamily')
						return quest.JoseKilled
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_BastienKilled",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "DiamondRed",
					Vars = set( "GraafDead" ),
					__eval = function ()
						local quest = gv_Quests['DiamondRed'] or QuestGetState('DiamondRed')
						return quest.GraafDead
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 10,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_GraafKilled",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "PierreDefeated",
					Vars = set( "PierreDead", "PierreJoined", "PierreReturn" ),
					__eval = function ()
						local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
						return quest.PierreDead or quest.PierreJoined or quest.PierreReturn
					end,
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							Condition = "or",
							QuestId = "PierreDefeated",
							Vars = set( "PierreJoined" ),
							__eval = function ()
								local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
								return quest.PierreJoined
							end,
						}),
					},
					'Effects', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 25,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
					'EffectsElse', {
						PlaceObj('QuestSetVariableNum', {
							Amount = 10,
							Prop = "Reputation",
							QuestId = "05_TakeDownMajor",
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_PierreDone",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Elliot",
					Vars = set( "ElliotDead", "ElliotInPrison" ),
					__eval = function ()
						local quest = gv_Quests['Elliot'] or QuestGetState('Elliot')
						return quest.ElliotDead or quest.ElliotInPrison
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_ElliotDone",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('GroupIsDead', {
					Group = "DrMangel",
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_DrMangelKilled",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelDramas",
					Vars = set( "ChimurengaDead" ),
					__eval = function ()
						local quest = gv_Quests['PantagruelDramas'] or QuestGetState('PantagruelDramas')
						return quest.ChimurengaDead
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_ChimurengaKilled",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Smiley",
							Vars = set( "BossDead" ),
							__eval = function ()
								local quest = gv_Quests['Smiley'] or QuestGetState('Smiley')
								return quest.BossDead
							end,
						}),
						PlaceObj('QuestIsVariableBool', {
							QuestId = "Luigi",
							Vars = set( "LuigiDead" ),
							__eval = function ()
								local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
								return quest.LuigiDead
							end,
						}),
					},
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_RimvilleDone",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "JackhammerDead" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.JackhammerDead
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 10,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_JackhammerKilled",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownFaucheux",
					Vars = set( "FaucheuxDead" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownFaucheux'] or QuestGetState('05_TakeDownFaucheux')
						return quest.FaucheuxDead
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 10,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_FaucheuxKilled",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownCorazon",
					Vars = set( "Completed" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownCorazon'] or QuestGetState('05_TakeDownCorazon')
						return quest.Completed
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 20,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_CorazonDone",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "Beast",
					Vars = set( "BeastDead", "BeastRecruited" ),
					__eval = function ()
						local quest = gv_Quests['Beast'] or QuestGetState('Beast')
						return quest.BeastDead or quest.BeastRecruited
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_BeastDone",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "HunterHunted",
					Vars = set( "FlayHunting", "FlayRecruited" ),
					__eval = function ()
						local quest = gv_Quests['HunterHunted'] or QuestGetState('HunterHunted')
						return quest.FlayHunting or quest.FlayRecruited
					end,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableNum', {
					Amount = 5,
					Prop = "Reputation",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_Reputation_FlayRecruited",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('VillainIsDefeated', {
					Group = "TheMajor",
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "CombatFinished",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_PresidentDone",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					per_ses_id = "NPC_President",
				}),
			},
			Effects = {
				PlaceObj('SectorSetCustomConflictDesc', {
					descr_id = "A20_AfterMajorFight_PresidentDead",
					sector_id = "A20",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "PresidentDead",
					QuestId = "05_TakeDownMajor",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Failed",
					QuestId = "03A_PresidentNotes",
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "_GroupsAttacked",
							Vars = set( "President_Killed" ),
							__eval = function ()
								local quest = gv_Quests['_GroupsAttacked'] or QuestGetState('_GroupsAttacked')
								return quest.President_Killed
							end,
						}),
					},
					'Effects', {
						PlaceObj('ApplyGuiltyOrRighteous', {
							effectType = "negative",
						}),
					},
				}),
				PlaceObj('MusicSetSectorPlaylist', {
					MusicCombat = "Battle_Tough",
					MusicConflict = "Wasteland_Conflict",
					MusicExploration = "Sector_Failed",
					SectorID = "A20",
				}),
				PlaceObj('MusicSetTrack', {
					Playlist = "Scripted",
					Track = "Music/Senzeni Na",
				}),
			},
			Once = true,
			ParamId = "TCE_PresidentDead",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	PresidentDead = false,
	PresidentLeft = false,
	PresidentSaved = true,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.PresidentDead and not quest.PresidentLeft and quest.PresidentSaved
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('QuestSetVariableBool', {
					Prop = "PresidentLeft",
					QuestId = "05_TakeDownMajor",
				}),
			},
			Once = true,
			ParamId = "TCE_PresidentLeft",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "CombatFinished" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorDead", "MajorJail", "MajorRecruited" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorDead or quest.MajorJail or quest.MajorRecruited
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "05_TakeDownMajor",
					Vars = set( "PresidentDead", "PresidentSaved" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.PresidentDead or quest.PresidentSaved
					end,
				}),
			},
			Effects = {
				PlaceObj('SectorEnterConflict', {
					conflict_mode = false,
					sector_id = "A20",
				}),
			},
			Once = true,
			ParamId = "TCE_RemoveConflict",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorJail" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorJail
					end,
				}),
			},
			Effects = {
				PlaceObj('PlaySetpiece', {
					setpiece = "MajorArrested_Main",
				}),
			},
			Once = true,
			ParamId = "TCE_MajorArrestedSetPiece",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "F19",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PierreDefeated",
					Vars = set({
	PierreDead = false,
	PierrePrisoner = false,
	PierreSpared = true,
}),
					__eval = function ()
						local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
						return not quest.PierreDead and not quest.PierrePrisoner and quest.PierreSpared
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_CampBienChien",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_CampBienChien",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Luigi",
					Vars = set( "LuigiRewardGiven" ),
					__eval = function ()
						local quest = gv_Quests['Luigi'] or QuestGetState('Luigi')
						return quest.LuigiRewardGiven
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Luigi",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_Fleatown",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_Fleatown",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "05_TakeDownFaucheux",
					Vars = set( "FaucheuxDead", "FaucheuxEscaped" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownFaucheux'] or QuestGetState('05_TakeDownFaucheux')
						return quest.FaucheuxDead or quest.FaucheuxEscaped
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownCorazon",
					Vars = set({
	Conv_CorazonKilled = false,
	Conv_CorazonLeft = false,
	Conv_Cornered = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownCorazon'] or QuestGetState('05_TakeDownCorazon')
						return not quest.Conv_CorazonKilled and not quest.Conv_CorazonLeft and not quest.Conv_Cornered
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Corazon",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_Flowers",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_Flowers",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "D17",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Beast",
					Vars = set( "BeastMet" ),
					__eval = function ()
						local quest = gv_Quests['Beast'] or QuestGetState('Beast')
						return quest.BeastMet
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_IlleMorat",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_IlleMorat",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Landsbach",
					Vars = set({
	BounceBattle = false,
	BounceSigfriedBattle = false,
	Completed = false,
	Diesel = true,
	DieselBounce = false,
	DieselSigfried = false,
	Failed = false,
	SigfriedBattle = false,
}),
					__eval = function ()
						local quest = gv_Quests['Landsbach'] or QuestGetState('Landsbach')
						return not quest.BounceBattle and not quest.BounceSigfriedBattle and not quest.Completed and quest.Diesel and not quest.DieselBounce and not quest.DieselSigfried and not quest.Failed and not quest.SigfriedBattle
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Siegfried",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_Landsbach",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_Landsbach",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "D8",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelDramas",
					Vars = set({
	ChimurengaEnemy = false,
	ChimurengaLeave = false,
	RetireChimurenga = false,
	YoungHearts = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelDramas'] or QuestGetState('PantagruelDramas')
						return not quest.ChimurengaEnemy and not quest.ChimurengaLeave and not quest.RetireChimurenga and not quest.YoungHearts
					end,
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Chimurenga",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PantagruelRebels",
					Vars = set({
	MaquieEnemies = false,
}),
					__eval = function ()
						local quest = gv_Quests['PantagruelRebels'] or QuestGetState('PantagruelRebels')
						return not quest.MaquieEnemies
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_Pantagruel",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_Pantagruel",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "L8",
				}),
				PlaceObj('CheckIsPersistentUnitDead', {
					Negate = true,
					per_ses_id = "NPC_Emma",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_PortCacao",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_PortCacao",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "Sanatorium",
					Vars = set({
	Completed = false,
	MangelKilled = true,
}),
					__eval = function ()
						local quest = gv_Quests['Sanatorium'] or QuestGetState('Sanatorium')
						return not quest.Completed and quest.MangelKilled
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_Sanatorium",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_Sanatorium",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('CheckOR', {
					Conditions = {
						PlaceObj('SectorCheckOwner', {
							sector_id = "C5",
						}),
						PlaceObj('SectorCheckOwner', {
							sector_id = "F7",
						}),
					},
				}),
				PlaceObj('SectorCheckOwner', {
					Negate = true,
					sector_id = "F19",
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "PierreDefeated",
					Vars = set({
	PierreDead = false,
	PierrePrisoner = false,
	PierreSpared = true,
}),
					__eval = function ()
						local quest = gv_Quests['PierreDefeated'] or QuestGetState('PierreDefeated')
						return not quest.PierreDead and not quest.PierrePrisoner and quest.PierreSpared
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CampBienChien",
					Vars = set({
	KingChickenPierre = false,
}),
					__eval = function ()
						local quest = gv_Quests['CampBienChien'] or QuestGetState('CampBienChien')
						return not quest.KingChickenPierre
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "DiamondRed",
					Vars = set({
	BadWin = false,
	GoodWin = false,
	GraafDead = false,
}),
					__eval = function ()
						local quest = gv_Quests['DiamondRed'] or QuestGetState('DiamondRed')
						return not quest.BadWin and not quest.GoodWin and not quest.GraafDead
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	MajorDead = false,
	MajorJail = false,
	MajorRecruited = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return not quest.MajorDead and not quest.MajorJail and not quest.MajorRecruited
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('PlayBanterEffect', {
					Banters = {
						"Radio_Major_Savanna",
					},
					FallbackToMerc = true,
					banterSequentialWaitFor = "BanterLineStart",
					searchInMarker = false,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "PierreLead_DiamondRed",
					QuestId = "PierreDefeated",
				}),
			},
			Once = true,
			ParamId = "TCE_Radio_Savanna",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "05_TakeDownMajor",
					Vars = set( "MajorDead", "MajorJail", "MajorRecruited" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.MajorDead or quest.MajorJail or quest.MajorRecruited
					end,
				}),
				PlaceObj('QuestIsVariableBool', {
					Condition = "or",
					QuestId = "05_TakeDownMajor",
					Vars = set( "PresidentDead", "PresidentLeft" ),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.PresidentDead or quest.PresidentLeft
					end,
				}),
				PlaceObj('SatelliteGameplayRunning', {}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "MajorJail" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.MajorJail
							end,
						}),
					},
					'Effects', {
						PlaceObj('ExecuteCode', {
							FuncCode = 'local major = g_Units[table.find(g_Units, "PersistentSessionId", "NPC_TheMajor")]\nmajor = gv_UnitData[major.session_id]\nif major then\n	RemoveUnitFromSquad(major)\nend',
						}),
					},
				}),
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('QuestIsVariableBool', {
							QuestId = "05_TakeDownMajor",
							Vars = set( "PresidentDead" ),
							__eval = function ()
								local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
								return quest.PresidentDead
							end,
						}),
					},
					'Effects', {
						PlaceObj('PlayBanterEffect', {
							Banters = {
								"Radio_EmmaPresidentDead",
							},
							FallbackToMerc = true,
							searchInMarker = false,
						}),
					},
					'EffectsElse', {
						PlaceObj('PlayBanterEffect', {
							Banters = {
								"Radio_EmmaPresidentSaved",
							},
							FallbackToMerc = true,
							searchInMarker = false,
						}),
						PlaceObj('CityGrantLoyalty', {
							Amount = 20,
							City = "PortDiancie",
							SpecialConversationMessage = T(600684338833, --[[QuestsDef 05_TakeDownMajor SpecialConversationMessage]] "<em>President LaFontaine</em> is saved"),
						}),
					},
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "05_TakeDownMajor",
				}),
				PlaceObj('GrantExperienceSector', {
					Amount = "XPQuestReward_Large",
					logImportant = true,
				}),
			},
			Once = true,
			ParamId = "TCE_Resolve",
			QuestId = "05_TakeDownMajor",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"A20",
					},
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "05_TakeDownMajor",
					Vars = set({
	CombatFinished = true,
	PresidentDead = false,
}),
					__eval = function ()
						local quest = gv_Quests['05_TakeDownMajor'] or QuestGetState('05_TakeDownMajor')
						return quest.CombatFinished and not quest.PresidentDead
					end,
				}),
			},
			Effects = {
				PlaceObj('UnitSetConflictIgnore', {
					TargetUnit = "President",
				}),
				PlaceObj('GroupSetBehaviorRoam', {
					MarkerGroup = "President",
					MarkerType = "UnitMarker",
					TargetUnit = "President",
				}),
				PlaceObj('SetBehaviorVisitAL', {
					ActorGroup = "President",
					MarkerGroup = "AL_President",
				}),
			},
			Once = true,
			ParamId = "TCE_PresidentConflictIgnore",
			QuestId = "05_TakeDownMajor",
			requiredSectors = {
				"A20",
			},
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "MentionAdonis",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CorazonMajorBusiness",
		}),
		PlaceObj('QuestVarBool', {
			Name = "LegionBeatenByMilitia",
		}),
		PlaceObj('QuestVarNum', {
			Name = "Reputation",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MajorDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "CombatFinished",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MajorJail",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MajorRecruited",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PresidentSaved",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PresidentLeft",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PresidentDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PresidentMentionMercs",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MoneyLootedByNPCs",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_TimePenalty",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_OutpostsTaken",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_BastienKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_GraafKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_PierreDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_ElliotDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_DrMangelKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_ChimurengaKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_RimvilleDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_JackhammerKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_FaucheuxKilled",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_CorazonDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_BeastDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Reputation_FlayRecruited",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_StartCombat_A20",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MajorApproachCombat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_ShootPresident",
		}),
		PlaceObj('QuestVarBool', {
			Name = "MercNearPlaza",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PresidentDone",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PresidentDead",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_RemoveConflict",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_MajorArrestedSetPiece",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_CampBienChien",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_Fleatown",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_Flowers",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_IlleMorat",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_Landsbach",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_Pantagruel",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_PortCacao",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_Sanatorium",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Radio_Savanna",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_Resolve",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PresidentConflictIgnore",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PresidentLeft",
		}),
	},
	group = "Main",
	id = "05_TakeDownMajor",
})

