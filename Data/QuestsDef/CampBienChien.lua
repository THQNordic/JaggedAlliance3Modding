-- ========== GENERATED BY QuestsDef Editor (Ctrl-Alt-Q) DO NOT EDIT MANUALLY! ==========

PlaceObj('QuestsDef', {
	DevNotes = "Hidden quest running the encounters in the Camp Bien Chien (prisoner camp).",
	Hidden = true,
	KillTCEsConditions = {
		PlaceObj('QuestKillTCEsOnCompleted', {}),
	},
	QuestGroup = "Wetlands",
	TCEs = {
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorIsInConflict', {}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CampBienChien",
					Vars = set({
	TCE_KingChickenConversation = false,
}),
					__eval = function ()
						local quest = gv_Quests['CampBienChien'] or QuestGetState('CampBienChien')
						return not quest.TCE_KingChickenConversation
					end,
				}),
				PlaceObj('PlayerIsInSectors', {
					Sectors = {
						"F19",
					},
				}),
			},
			Effects = {
				PlaceObj('ConditionalEffect', {
					'Conditions', {
						PlaceObj('UnitIsAroundMarkerOfGroup', {
							DisableContextModification = true,
							MarkerGroup = "EntranceWest",
							TargetUnit = "any merc",
						}),
					},
					'Effects', {
						PlaceObj('GroupSetBehaviorPatrol', {
							MarkerGroup = "EntranceWest",
							TargetUnit = "KingChicken",
						}),
					},
					'EffectsElse', {
						PlaceObj('ConditionalEffect', {
							'Conditions', {
								PlaceObj('UnitIsAroundMarkerOfGroup', {
									DisableContextModification = true,
									MarkerGroup = "EntranceEast",
									TargetUnit = "any merc",
								}),
							},
							'Effects', {
								PlaceObj('GroupSetBehaviorPatrol', {
									MarkerGroup = "EntranceEast",
									TargetUnit = "KingChicken",
								}),
							},
							'EffectsElse', {
								PlaceObj('ConditionalEffect', {
									'Conditions', {
										PlaceObj('UnitIsAroundMarkerOfGroup', {
											DisableContextModification = true,
											MarkerGroup = "EntranceSouth",
											TargetUnit = "any merc",
										}),
									},
									'Effects', {
										PlaceObj('GroupSetBehaviorPatrol', {
											MarkerGroup = "EntranceSouth",
											TargetUnit = "KingChicken",
										}),
									},
									'EffectsElse', {
										PlaceObj('ConditionalEffect', {
											'Conditions', {
												PlaceObj('UnitIsAroundMarkerOfGroup', {
													DisableContextModification = true,
													MarkerGroup = "EntranceNorth",
													TargetUnit = "any merc",
												}),
											},
											'Effects', {
												PlaceObj('GroupSetBehaviorPatrol', {
													MarkerGroup = "EntranceNorth",
													TargetUnit = "KingChicken",
												}),
											},
										}),
									},
								}),
							},
						}),
					},
				}),
			},
			Once = true,
			ParamId = "TCE_KingChickenIntercept",
			QuestId = "CampBienChien",
			requiredSectors = {
				"F19",
			},
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('UnitIsAroundOtherUnit', {
					Distance = 4,
					SecondTargetUnit = "any merc",
					TargetUnit = "KingChicken",
				}),
				PlaceObj('CombatIsActive', {
					Negate = true,
				}),
			},
			Effects = {
				PlaceObj('UnitStartConversation', {
					Conversation = "KingChicken_1",
				}),
				PlaceObj('UnitSetConflictIgnore', {
					ConflictIgnore = false,
					TargetUnit = "KingChicken",
				}),
				PlaceObj('ResetAmbientLife', {
					ForceImmediateKick = true,
					KickPerpetualUnits = true,
				}),
			},
			Once = true,
			ParamId = "TCE_KingChickenConversation",
			QuestId = "CampBienChien",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('QuestIsVariableBool', {
					QuestId = "CampBienChien",
					Vars = set( "KingChickenAlert" ),
					__eval = function ()
						local quest = gv_Quests['CampBienChien'] or QuestGetState('CampBienChien')
						return quest.KingChickenAlert
					end,
				}),
			},
			Effects = {
				PlaceObj('GroupAlert', {
					TargetUnit = "EnemySquad",
				}),
				PlaceObj('UnitSetConflictIgnore', {
					ConflictIgnore = false,
					TargetUnit = "KingChicken",
				}),
			},
			Once = true,
			ParamId = "TCE_KingChickenAlert",
			QuestId = "CampBienChien",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('BanterHasPlayed', {
					Banters = {
						"CampBienChien_PrisonerApproach01",
						"CampBienChien_PrisonerApproach02_KingChickenAlive",
						"CampBienChien_PrisonerApproach02_KingChickenDead",
						"CampBienChien_PrisonerApproach03_KingChickenAlive",
						"CampBienChien_PrisonerApproach03_KingChickenDead",
						"CampBienChien_PrisonerApproach04_PierreHired",
						"CampBienChien_PrisonerApproach04_PierreLeft",
					},
				}),
			},
			Effects = {
				PlaceObj('GroupSetBehaviorExit', {
					TargetUnit = "Actor1",
					closest = true,
				}),
				PlaceObj('CityGrantLoyalty', {
					Amount = 5,
					City = "IlleMorat",
				}),
			},
			Once = true,
			ParamId = "TCE_PrisonersLeaving",
			QuestId = "CampBienChien",
		}),
		PlaceObj('TriggeredConditionalEvent', {
			Conditions = {
				PlaceObj('SectorCheckOwner', {
					sector_id = "F19",
				}),
				PlaceObj('PlayerSquadPresentInSectors', {
					Negate = true,
					Sector = "F19",
				}),
			},
			Effects = {
				PlaceObj('UnitSetConflictIgnore', {
					ConflictIgnore = false,
					TargetUnit = "KingChicken",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "PrisonersLeft",
					QuestId = "CampBienChien",
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Completed",
					QuestId = "CampBienChien",
				}),
			},
			ParamId = "TCE_LiberateAndLeave",
			QuestId = "CampBienChien",
		}),
	},
	Variables = {
		PlaceObj('QuestVarBool', {
			Name = "Completed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Given",
		}),
		PlaceObj('QuestVarBool', {
			Name = "Failed",
		}),
		PlaceObj('QuestVarBool', {
			Name = "NotStarted",
			Value = true,
		}),
		PlaceObj('QuestVarBool', {
			Name = "KingChickenDead",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KingChickenScared",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KingChickenPierre",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KingChickenCamp",
		}),
		PlaceObj('QuestVarBool', {
			Name = "KingChickenAlert",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_KingChickenAlert",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_PrisonersLeaving",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_LiberateAndLeave",
		}),
		PlaceObj('QuestVarBool', {
			Name = "PrisonersLeft",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_KingChickenIntercept",
		}),
		PlaceObj('QuestVarTCEState', {
			Name = "TCE_KingChickenConversation",
		}),
	},
	group = "Wetlands",
	id = "CampBienChien",
})

