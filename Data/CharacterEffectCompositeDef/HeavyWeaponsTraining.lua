-- ========== GENERATED BY CharacterEffectCompositeDef Editor DO NOT EDIT MANUALLY! ==========

PlaceObj('CharacterEffectCompositeDef', {
	'Group', "Perk-Specialization",
	'Id', "HeavyWeaponsTraining",
	'SortKey', 100,
	'Parameters', {
		PlaceObj('PresetParamNumber', {
			'Name', "ap_cost_reduction",
			'Value', 1,
			'Tag', "<ap_cost_reduction>",
		}),
		PlaceObj('PresetParamNumber', {
			'Name', "min_ap_cost",
			'Value', 1,
			'Tag', "<min_ap_cost>",
		}),
	},
	'object_class', "Perk",
	'unit_reactions', {
		PlaceObj('UnitReaction', {
			Event = "OnCalcAPCost",
			Handler = function (self, target, current_ap, action, weapon, aim)
				if IsKindOfClasses(weapon, "HeavyWeapon", "MachineGun") then
					local reduction = self:ResolveValue("ap_cost_reduction") * const.Scale.AP
					local minCost = self:ResolveValue("min_ap_cost") * const.Scale.AP
					return Max(minCost, current_ap - reduction)
				end
			end,
		}),
	},
	'DisplayName', T(575851829180, --[[CharacterEffectCompositeDef HeavyWeaponsTraining DisplayName]] "Heavy Weapons"),
	'Description', T(662768584689, --[[CharacterEffectCompositeDef HeavyWeaponsTraining Description]] "Attacks and <GameTerm('Setup')> with <em>Heavy Weapons</em> and <em>Machine Guns</em> have reduced <em>AP</em> cost."),
	'Icon', "UI/Icons/Perks/HeavyWeaponsTraining",
	'Tier', "Specialization",
})

