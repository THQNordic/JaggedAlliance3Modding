-- ========== GENERATED BY CharacterEffectCompositeDef Editor DO NOT EDIT MANUALLY! ==========

PlaceObj('CharacterEffectCompositeDef', {
	'Group', "Perk-Personal",
	'Id', "BunsPerk",
	'Parameters', {
		PlaceObj('PresetParamNumber', {
			'Name', "CtHBonus",
			'Value', 10,
			'Tag', "<CtHBonus>",
		}),
	},
	'Comment', "Buns - Bonus against tartgets hit by an ally",
	'object_class', "Perk",
	'unit_reactions', {
		PlaceObj('UnitReaction', {
			Event = "OnCalcChanceToHit",
			Handler = function (self, target, attacker, action, attack_target, weapon1, weapon2, data)
				if target == attacker and IsKindOf(data.target, "Unit") and IsValidTarget(data.target) then
					for _, unit in ipairs(data.target.hit_this_turn) do
						if unit ~= attacker and band(unit.team.ally_mask, attacker.team.team_mask) ~= 0 then
							ApplyCthModifier_Add(self, data, self:ResolveValue("CtHBonus"), T{776394275735, "Perk: <name>", name = self.DisplayName})
							return
						end
					end
				end
			end,
		}),
	},
	'DisplayName', T(772183671804, --[[CharacterEffectCompositeDef BunsPerk DisplayName]] "Anything You Can Do..."),
	'Description', T(864899354526, --[[CharacterEffectCompositeDef BunsPerk Description]] "Gains <em>Accuracy</em> bonus against targets hit by an <em>ally</em> this turn."),
	'Icon', "UI/Icons/Perks/BunsPerk",
	'Tier', "Personal",
})

