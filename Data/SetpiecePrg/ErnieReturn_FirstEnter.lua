-- ========== GENERATED BY SetpiecePrg Editor (Ctrl-Alt-S) DO NOT EDIT MANUALLY! ==========

PlaceObj('SetpiecePrg', {
	Effects = {
		PlaceObj('ConditionalEffect', {
			'Conditions', {
				PlaceObj('SetpieceIsTestMode', {}),
			},
			'Effects', {
				PlaceObj('QuestSetVariableBool', {
					Prop = "Pierre_SpawnErnie",
					QuestId = "ErnieSideQuests_WorldFlip",
					Set = false,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Ernie_ExtraMilitia",
					QuestId = "ErnieSideQuests_WorldFlip",
					Set = false,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "Basil_ErniePartisan",
					QuestId = "ErnieSideQuests_WorldFlip",
					Set = false,
				}),
				PlaceObj('QuestSetVariableBool', {
					Prop = "BillyBoy_ErniePartisan",
					QuestId = "ErnieSideQuests_WorldFlip",
					Set = false,
				}),
			},
		}),
	},
	Map = "H-2 - Town of Erny",
	group = "TownOfErny",
	hidden_actors = false,
	id = "ErnieReturn_FirstEnter",
	PlaceObj('SetpieceFadeOut', {
		FadeOutTime = 0,
	}),
	PlaceObj('PrgPlayEffect', {
		Effects = {
			PlaceObj('ConditionalEffect', {
				'Conditions', {
					PlaceObj('SetpieceIsTestMode', {}),
				},
				'Effects', {
					PlaceObj('UnitsDespawnAmbientLife', {}),
					PlaceObj('QuestSetVariableBool', {
						Prop = "WorldFlipDone",
						QuestId = "04_Betrayal",
					}),
					PlaceObj('QuestSetVariableBool', {
						Prop = "Pierre_SpawnErnie",
						QuestId = "ErnieSideQuests_WorldFlip",
					}),
					PlaceObj('QuestSetVariableBool', {
						Prop = "Ernie_ExtraMilitia",
						QuestId = "ErnieSideQuests_WorldFlip",
					}),
					PlaceObj('QuestSetVariableBool', {
						Prop = "Basil_ErniePartisan",
						QuestId = "ErnieSideQuests_WorldFlip",
					}),
					PlaceObj('QuestSetVariableBool', {
						Prop = "BillyBoy_ErniePartisan",
						QuestId = "ErnieSideQuests_WorldFlip",
					}),
				},
			}),
			PlaceObj('ConditionalEffect', {
				'Conditions', {
					PlaceObj('SetpieceIsTestMode', {
						Negate = true,
					}),
				},
				'Effects', {
					PlaceObj('GroupSetSide', {
						Side = "ally",
						TargetUnit = "BillyBoy",
					}),
					PlaceObj('GroupSetSide', {
						Side = "ally",
						TargetUnit = "GreasyBasil",
					}),
				},
			}),
		},
	}),
	PlaceObj('PrgPlayEffect', {
		Effects = {
			PlaceObj('MusicSetTrack', {
				Playlist = "Scripted",
				Track = "Music/Rustling Leaves",
			}),
			PlaceObj('UnitSetConflictIgnore', {
				TargetUnit = "GreasyBasil",
			}),
			PlaceObj('UnitSetConflictIgnore', {
				TargetUnit = "BillyBoy",
			}),
		},
	}),
	PlaceObj('SetpieceIfQuestVar', {
		QuestId = "ErnieSideQuests_WorldFlip",
		Vars = set( "Pierre_SpawnErnie" ),
		PlaceObj('SetpieceAssignFromGroup', {
			AssignTo = "Pierre",
			Group = "Pierre",
		}),
		PlaceObj('SetpieceSetStance', {
			Actors = "Pierre",
			Stance = "Crouch",
		}),
	}),
	PlaceObj('SetpieceIfQuestVar', {
		QuestId = "ErnieSideQuests_WorldFlip",
		Vars = set( "BillyBoy_ErniePartisan" ),
		PlaceObj('PrgPlayEffect', {
			Effects = {
				PlaceObj('NpcUnitGiveItem', {
					ItemId = "AK74",
					TargetUnit = "BillyBoy",
				}),
			},
		}),
		PlaceObj('SetpieceAssignFromGroup', {
			AssignTo = "BillyBoy",
			Group = "BillyBoy",
		}),
		PlaceObj('SetpieceSetStance', {
			Actors = "BillyBoy",
			Stance = "Crouch",
		}),
		PlaceObj('SetpieceTeleport', {
			Actors = "BillyBoy",
			AssignTo = "SP_BillyBoy_Port",
			Marker = "SP_BillyBoy_Port",
		}),
	}),
	PlaceObj('SetpieceIfQuestVar', {
		QuestId = "ErnieSideQuests_WorldFlip",
		Vars = set( "Basil_ErniePartisan" ),
		PlaceObj('PrgPlayEffect', {
			Effects = {
				PlaceObj('NpcUnitGiveItem', {
					ItemId = "AK74",
					TargetUnit = "GreasyBasil",
				}),
			},
		}),
		PlaceObj('SetpieceAssignFromGroup', {
			AssignTo = "Basil",
			Group = "GreasyBasil",
		}),
		PlaceObj('SetpieceSetStance', {
			Actors = "Basil",
			Stance = "Crouch",
		}),
		PlaceObj('SetpieceTeleport', {
			Actors = "Basil",
			AssignTo = "SP_BillyBoy_Port",
			Marker = "SP_Basil_Port",
		}),
	}),
	PlaceObj('SetpieceFadeIn', {
		FadeInDelay = 0,
		Wait = false,
	}),
	PlaceObj('SetpieceCamera', {
		Duration = 18000,
		Easing = 0,
		LookAt1 = point(123375, 97788, 18014),
		LookAt2 = point(115321, 114507, 17631),
		Movement = "decelerated",
		Pos1 = point(121027, 96328, 19178),
		Pos2 = point(111408, 112073, 19571),
		Zoom = 1300,
	}),
	PlaceObj('SetpieceFadeOut', {}),
	PlaceObj('SetpieceCamera', {
		Duration = 35000,
		Easing = 6,
		LookAt1 = point(186620, 146615, 11369),
		LookAt2 = point(184101, 144864, 10178),
		Movement = "decelerated",
		Pos1 = point(188918, 148211, 12455),
		Pos2 = point(186399, 146460, 11264),
		Wait = false,
		Zoom = 1300,
	}),
	PlaceObj('SetpieceFadeIn', {}),
	PlaceObj('SetpieceSleep', {
		Time = 700,
	}),
	PlaceObj('PrgPlayEffect', {
		Effects = {
			PlaceObj('PlayBanterEffect', {
				Banters = {
					"ErnieWorldFlip01_ErnieInitial",
				},
				searchInMap = true,
				searchInMarker = false,
			}),
		},
	}),
	PlaceObj('SetpieceSleep', {
		Time = 500,
	}),
	PlaceObj('SetpieceFadeOut', {}),
})

